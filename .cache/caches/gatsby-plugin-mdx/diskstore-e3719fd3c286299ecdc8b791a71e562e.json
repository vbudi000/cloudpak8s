{"expireTime":9007200838008495000,"key":"gatsby-plugin-mdx-entire-payload-768800ac202356510bb4b0b7153cea23-","val":{"mdast":{"type":"root","children":[{"type":"import","value":"import DefaultLayout from \"/Users/davethiessen/github/cloudpak8s/node_modules/gatsby-theme-carbon/src/templates/Default.js\"","position":{"start":{"line":3,"column":1,"offset":2},"end":{"line":3,"column":124,"offset":125},"indent":[]}},{"type":"export","default":true,"value":"export default DefaultLayout","position":{"start":{"line":5,"column":1,"offset":127},"end":{"line":5,"column":29,"offset":155},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[],"position":{"start":{"line":7,"column":1,"offset":157},"end":{"line":7,"column":3,"offset":159},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":157},"end":{"line":7,"column":3,"offset":159},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"make sure there is a space after the - so that the TOC is generated","position":{"start":{"line":8,"column":3,"offset":162},"end":{"line":8,"column":70,"offset":229},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":160},"end":{"line":8,"column":70,"offset":229},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"{:toc}","position":{"start":{"line":9,"column":1,"offset":230},"end":{"line":9,"column":7,"offset":236},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":230},"end":{"line":9,"column":7,"offset":236},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Log in to you OCP cluster","position":{"start":{"line":11,"column":5,"offset":242},"end":{"line":11,"column":30,"offset":267},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":238},"end":{"line":11,"column":30,"offset":267},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"See the ","position":{"start":{"line":12,"column":1,"offset":268},"end":{"line":12,"column":9,"offset":276},"indent":[]}},{"type":"link","title":null,"url":"/content/automation/pre-requisites","children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":12,"column":10,"offset":277},"end":{"line":12,"column":23,"offset":290},"indent":[]}}],"position":{"start":{"line":12,"column":9,"offset":276},"end":{"line":12,"column":60,"offset":327},"indent":[]}},{"type":"text","value":" chapter for details on logging in to your OCP cluster.","position":{"start":{"line":12,"column":60,"offset":327},"end":{"line":12,"column":115,"offset":382},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":268},"end":{"line":12,"column":115,"offset":382},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Install Kafka","position":{"start":{"line":14,"column":4,"offset":387},"end":{"line":14,"column":17,"offset":400},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":384},"end":{"line":14,"column":17,"offset":400},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Add the Helm repository","position":{"start":{"line":16,"column":5,"offset":406},"end":{"line":16,"column":28,"offset":429},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":402},"end":{"line":16,"column":28,"offset":429},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Execute:","position":{"start":{"line":17,"column":3,"offset":432},"end":{"line":17,"column":11,"offset":440},"indent":[]}}],"position":{"start":{"line":17,"column":3,"offset":432},"end":{"line":17,"column":11,"offset":440},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":430},"end":{"line":17,"column":11,"offset":440},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":430},"end":{"line":17,"column":11,"offset":440},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"helm repo add incubator http://storage.googleapis.com/kubernetes-charts-incubator","position":{"start":{"line":18,"column":1,"offset":441},"end":{"line":20,"column":4,"offset":530},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Create the Kafka project","position":{"start":{"line":22,"column":5,"offset":536},"end":{"line":22,"column":29,"offset":560},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":532},"end":{"line":22,"column":29,"offset":560},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Execute:","position":{"start":{"line":23,"column":3,"offset":563},"end":{"line":23,"column":11,"offset":571},"indent":[]}}],"position":{"start":{"line":23,"column":3,"offset":563},"end":{"line":23,"column":11,"offset":571},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":561},"end":{"line":23,"column":11,"offset":571},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":561},"end":{"line":23,"column":11,"offset":571},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc new-project kafka","position":{"start":{"line":24,"column":1,"offset":572},"end":{"line":26,"column":4,"offset":600},"indent":[1,1]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Make sure you are working from the ","position":{"start":{"line":28,"column":3,"offset":604},"end":{"line":28,"column":38,"offset":639},"indent":[]}},{"type":"inlineCode","value":"kafka","position":{"start":{"line":28,"column":38,"offset":639},"end":{"line":28,"column":45,"offset":646},"indent":[]}},{"type":"text","value":" project, then grant the tiller server ","position":{"start":{"line":28,"column":45,"offset":646},"end":{"line":28,"column":84,"offset":685},"indent":[]}},{"type":"inlineCode","value":"edit","position":{"start":{"line":28,"column":84,"offset":685},"end":{"line":28,"column":90,"offset":691},"indent":[]}},{"type":"text","value":" access to current project:","position":{"start":{"line":28,"column":90,"offset":691},"end":{"line":28,"column":117,"offset":718},"indent":[]}}],"position":{"start":{"line":28,"column":3,"offset":604},"end":{"line":28,"column":117,"offset":718},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":602},"end":{"line":28,"column":117,"offset":718},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":602},"end":{"line":28,"column":117,"offset":718},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc project kafka\noc adm policy add-role-to-user edit \"system:serviceaccount:tiller:tiller\"","position":{"start":{"line":29,"column":1,"offset":719},"end":{"line":32,"column":4,"offset":817},"indent":[1,1,1]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Add the Security Context Constraints (CSS) ","position":{"start":{"line":34,"column":3,"offset":821},"end":{"line":34,"column":46,"offset":864},"indent":[]}},{"type":"inlineCode","value":"anyuid","position":{"start":{"line":34,"column":46,"offset":864},"end":{"line":34,"column":54,"offset":872},"indent":[]}},{"type":"text","value":" to the Service Account ","position":{"start":{"line":34,"column":54,"offset":872},"end":{"line":34,"column":78,"offset":896},"indent":[]}},{"type":"inlineCode","value":"default","position":{"start":{"line":34,"column":78,"offset":896},"end":{"line":34,"column":87,"offset":905},"indent":[]}},{"type":"text","value":" of the project:","position":{"start":{"line":34,"column":87,"offset":905},"end":{"line":34,"column":103,"offset":921},"indent":[]}}],"position":{"start":{"line":34,"column":3,"offset":821},"end":{"line":34,"column":103,"offset":921},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":819},"end":{"line":34,"column":103,"offset":921},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":819},"end":{"line":34,"column":103,"offset":921},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc adm policy add-scc-to-user anyuid -z default","position":{"start":{"line":35,"column":1,"offset":922},"end":{"line":37,"column":4,"offset":977},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Create PVs if necessary","position":{"start":{"line":38,"column":5,"offset":982},"end":{"line":38,"column":28,"offset":1005},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":978},"end":{"line":38,"column":28,"offset":1005},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If your cluster does not support dynamic persistence volume, download ","position":{"start":{"line":39,"column":1,"offset":1006},"end":{"line":39,"column":71,"offset":1076},"indent":[]}},{"type":"link","title":null,"url":"/assets/automation/bai/kafka-pv.yaml","children":[{"type":"text","value":"kafka-pv.yaml","position":{"start":{"line":39,"column":72,"offset":1077},"end":{"line":39,"column":85,"offset":1090},"indent":[]}}],"position":{"start":{"line":39,"column":71,"offset":1076},"end":{"line":39,"column":124,"offset":1129},"indent":[]}},{"type":"text","value":" and execute:","position":{"start":{"line":39,"column":124,"offset":1129},"end":{"line":39,"column":137,"offset":1142},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":1006},"end":{"line":39,"column":137,"offset":1142},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc apply -f kafka-pv.yaml","position":{"start":{"line":40,"column":1,"offset":1143},"end":{"line":42,"column":4,"offset":1176},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Install the Helm chart","position":{"start":{"line":44,"column":5,"offset":1182},"end":{"line":44,"column":27,"offset":1204},"indent":[]}}],"position":{"start":{"line":44,"column":1,"offset":1178},"end":{"line":44,"column":27,"offset":1204},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Download the ","position":{"start":{"line":46,"column":1,"offset":1206},"end":{"line":46,"column":14,"offset":1219},"indent":[]}},{"type":"link","title":null,"url":"/assets/automation/bai/kafka-values.yaml","children":[{"type":"text","value":"kafka-values.yaml","position":{"start":{"line":46,"column":15,"offset":1220},"end":{"line":46,"column":32,"offset":1237},"indent":[]}}],"position":{"start":{"line":46,"column":14,"offset":1219},"end":{"line":46,"column":75,"offset":1280},"indent":[]}},{"type":"text","value":" file to your working directory and run the following command:","position":{"start":{"line":46,"column":75,"offset":1280},"end":{"line":46,"column":137,"offset":1342},"indent":[]}}],"position":{"start":{"line":46,"column":1,"offset":1206},"end":{"line":46,"column":137,"offset":1342},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"helm install incubator/kafka --name my-kafka --namespace kafka -f kafka-values.yaml","position":{"start":{"line":47,"column":1,"offset":1343},"end":{"line":49,"column":4,"offset":1434},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"This will deploy ","position":{"start":{"line":50,"column":1,"offset":1435},"end":{"line":50,"column":18,"offset":1452},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/helm/charts/tree/master/incubator/kafka","children":[{"type":"text","value":"Apache Kafka","position":{"start":{"line":50,"column":19,"offset":1453},"end":{"line":50,"column":31,"offset":1465},"indent":[]}}],"position":{"start":{"line":50,"column":18,"offset":1452},"end":{"line":50,"column":92,"offset":1526},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":50,"column":92,"offset":1526},"end":{"line":50,"column":97,"offset":1531},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/helm/charts/tree/master/incubator/zookeeper","children":[{"type":"text","value":"Zookeeper","position":{"start":{"line":50,"column":98,"offset":1532},"end":{"line":50,"column":107,"offset":1541},"indent":[]}}],"position":{"start":{"line":50,"column":97,"offset":1531},"end":{"line":50,"column":172,"offset":1606},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":50,"column":172,"offset":1606},"end":{"line":50,"column":173,"offset":1607},"indent":[]}}],"position":{"start":{"line":50,"column":1,"offset":1435},"end":{"line":50,"column":173,"offset":1607},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Keep ","position":{"start":{"line":52,"column":1,"offset":1609},"end":{"line":52,"column":6,"offset":1614},"indent":[]}},{"type":"inlineCode","value":"my-kafka","position":{"start":{"line":52,"column":6,"offset":1614},"end":{"line":52,"column":16,"offset":1624},"indent":[]}},{"type":"text","value":" as a release name because the rest of the installation assumes it. ","position":{"start":{"line":52,"column":16,"offset":1624},"end":{"line":52,"column":84,"offset":1692},"indent":[]}}],"position":{"start":{"line":52,"column":1,"offset":1609},"end":{"line":52,"column":84,"offset":1692},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Set-up the Kafka bootstrap server","position":{"start":{"line":54,"column":5,"offset":1698},"end":{"line":54,"column":38,"offset":1731},"indent":[]}}],"position":{"start":{"line":54,"column":1,"offset":1694},"end":{"line":54,"column":38,"offset":1731},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If access is from inside the OpenShift cluster environment, then the bootstrap server is ","position":{"start":{"line":56,"column":1,"offset":1733},"end":{"line":56,"column":90,"offset":1822},"indent":[]}},{"type":"inlineCode","value":"my-kafka-headless.kafka.svc.cluster.local:9092","position":{"start":{"line":56,"column":90,"offset":1822},"end":{"line":56,"column":138,"offset":1870},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":56,"column":138,"offset":1870},"end":{"line":56,"column":139,"offset":1871},"indent":[]}}],"position":{"start":{"line":56,"column":1,"offset":1733},"end":{"line":56,"column":139,"offset":1871},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If access is from an external system, you need to perform the following steps:","position":{"start":{"line":58,"column":1,"offset":1873},"end":{"line":58,"column":79,"offset":1951},"indent":[]}}],"position":{"start":{"line":58,"column":1,"offset":1873},"end":{"line":58,"column":79,"offset":1951},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"1 - Retrieve the OpenShift ingress address with the following command: \n","position":{"start":{"line":60,"column":1,"offset":1953},"end":{"line":61,"column":1,"offset":2025},"indent":[1]}},{"type":"image","title":null,"url":"/assets/automation//images/rhos-kafka1.png","alt":"Kafka ingress","position":{"start":{"line":61,"column":1,"offset":2025},"end":{"line":61,"column":61,"offset":2085},"indent":[]}}],"position":{"start":{"line":60,"column":1,"offset":1953},"end":{"line":61,"column":61,"offset":2085},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"2 - Use this ingress address to set the bootstrap server to ","position":{"start":{"line":63,"column":1,"offset":2087},"end":{"line":63,"column":61,"offset":2147},"indent":[]}},{"type":"inlineCode","value":"{rhos-ingress-ip}:31090,{rhos-ingress-ip}:31091,{rhos-ingress-ip}:31092","position":{"start":{"line":63,"column":61,"offset":2147},"end":{"line":63,"column":134,"offset":2220},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":63,"column":134,"offset":2220},"end":{"line":63,"column":135,"offset":2221},"indent":[]}}],"position":{"start":{"line":63,"column":1,"offset":2087},"end":{"line":63,"column":135,"offset":2221},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"3 - Add the line ","position":{"start":{"line":65,"column":1,"offset":2223},"end":{"line":65,"column":18,"offset":2240},"indent":[]}},{"type":"inlineCode","value":"{rhos-ingress-ip} kafka.cluster.local","position":{"start":{"line":65,"column":18,"offset":2240},"end":{"line":65,"column":57,"offset":2279},"indent":[]}},{"type":"text","value":" to the ","position":{"start":{"line":65,"column":57,"offset":2279},"end":{"line":65,"column":65,"offset":2287},"indent":[]}},{"type":"inlineCode","value":"/etc/hosts","position":{"start":{"line":65,"column":65,"offset":2287},"end":{"line":65,"column":77,"offset":2299},"indent":[]}},{"type":"text","value":" file.","position":{"start":{"line":65,"column":77,"offset":2299},"end":{"line":65,"column":83,"offset":2305},"indent":[]}}],"position":{"start":{"line":65,"column":1,"offset":2223},"end":{"line":65,"column":83,"offset":2305},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Install Business Automation Insights (BAI)","position":{"start":{"line":68,"column":4,"offset":2311},"end":{"line":68,"column":46,"offset":2353},"indent":[]}}],"position":{"start":{"line":68,"column":1,"offset":2308},"end":{"line":68,"column":46,"offset":2353},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Download the BAI PPA","position":{"start":{"line":70,"column":5,"offset":2359},"end":{"line":70,"column":25,"offset":2379},"indent":[]}}],"position":{"start":{"line":70,"column":1,"offset":2355},"end":{"line":70,"column":26,"offset":2380},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Download the following PPA from ","position":{"start":{"line":71,"column":1,"offset":2381},"end":{"line":71,"column":33,"offset":2413},"indent":[]}},{"type":"link","title":null,"url":"https://www.ibm.com/software/passportadvantage","children":[{"type":"text","value":"IBM Passport Advantage","position":{"start":{"line":71,"column":34,"offset":2414},"end":{"line":71,"column":56,"offset":2436},"indent":[]}}],"position":{"start":{"line":71,"column":33,"offset":2413},"end":{"line":71,"column":105,"offset":2485},"indent":[]}},{"type":"text","value":" to your working-directory:","position":{"start":{"line":71,"column":105,"offset":2485},"end":{"line":71,"column":132,"offset":2512},"indent":[]}}],"position":{"start":{"line":71,"column":1,"offset":2381},"end":{"line":71,"column":132,"offset":2512},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"IBM Cloud Pak for Automation v19.0.1 - Business Operation Insights for Certified Kubernetes Multiplatform English (CC222EN)","position":{"start":{"line":73,"column":4,"offset":2517},"end":{"line":73,"column":127,"offset":2640},"indent":[]}}],"position":{"start":{"line":73,"column":3,"offset":2516},"end":{"line":73,"column":128,"offset":2641},"indent":[]}}],"position":{"start":{"line":73,"column":3,"offset":2516},"end":{"line":73,"column":128,"offset":2641},"indent":[]}}],"position":{"start":{"line":73,"column":1,"offset":2514},"end":{"line":73,"column":128,"offset":2641},"indent":[]}}],"position":{"start":{"line":73,"column":1,"offset":2514},"end":{"line":73,"column":128,"offset":2641},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The downloaded archive should be ","position":{"start":{"line":75,"column":1,"offset":2643},"end":{"line":75,"column":34,"offset":2676},"indent":[]}},{"type":"inlineCode","value":"ICP4A19.0.1-bai.tgz","position":{"start":{"line":75,"column":34,"offset":2676},"end":{"line":75,"column":55,"offset":2697},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":75,"column":55,"offset":2697},"end":{"line":75,"column":56,"offset":2698},"indent":[]}}],"position":{"start":{"line":75,"column":1,"offset":2643},"end":{"line":75,"column":56,"offset":2698},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Create the BAI project","position":{"start":{"line":77,"column":5,"offset":2704},"end":{"line":77,"column":27,"offset":2726},"indent":[]}}],"position":{"start":{"line":77,"column":1,"offset":2700},"end":{"line":77,"column":27,"offset":2726},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Create a new OpenShift project for BAI:","position":{"start":{"line":78,"column":3,"offset":2729},"end":{"line":78,"column":42,"offset":2768},"indent":[]}}],"position":{"start":{"line":78,"column":3,"offset":2729},"end":{"line":78,"column":42,"offset":2768},"indent":[]}}],"position":{"start":{"line":78,"column":1,"offset":2727},"end":{"line":78,"column":42,"offset":2768},"indent":[]}}],"position":{"start":{"line":78,"column":1,"offset":2727},"end":{"line":78,"column":42,"offset":2768},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc new-project baiproject","position":{"start":{"line":79,"column":1,"offset":2769},"end":{"line":81,"column":4,"offset":2802},"indent":[1,1]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Make sure you are working from your newly created BAI project, then grant the tiller server ","position":{"start":{"line":82,"column":3,"offset":2805},"end":{"line":82,"column":95,"offset":2897},"indent":[]}},{"type":"inlineCode","value":"edit","position":{"start":{"line":82,"column":95,"offset":2897},"end":{"line":82,"column":101,"offset":2903},"indent":[]}},{"type":"text","value":" access to current project:","position":{"start":{"line":82,"column":101,"offset":2903},"end":{"line":82,"column":128,"offset":2930},"indent":[]}}],"position":{"start":{"line":82,"column":3,"offset":2805},"end":{"line":82,"column":128,"offset":2930},"indent":[]}}],"position":{"start":{"line":82,"column":1,"offset":2803},"end":{"line":82,"column":128,"offset":2930},"indent":[]}}],"position":{"start":{"line":82,"column":1,"offset":2803},"end":{"line":82,"column":128,"offset":2930},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc project baiproject\noc adm policy add-role-to-user edit \"system:serviceaccount:tiller:tiller\"","position":{"start":{"line":83,"column":1,"offset":2931},"end":{"line":86,"column":4,"offset":3034},"indent":[1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Create a ServiceAccount and update the SCCs","position":{"start":{"line":88,"column":5,"offset":3040},"end":{"line":88,"column":48,"offset":3083},"indent":[]}}],"position":{"start":{"line":88,"column":1,"offset":3036},"end":{"line":88,"column":48,"offset":3083},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Check if ","position":{"start":{"line":90,"column":1,"offset":3085},"end":{"line":90,"column":10,"offset":3094},"indent":[]}},{"type":"inlineCode","value":"ibm-anyuid-scc","position":{"start":{"line":90,"column":10,"offset":3094},"end":{"line":90,"column":26,"offset":3110},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":90,"column":26,"offset":3110},"end":{"line":90,"column":31,"offset":3115},"indent":[]}},{"type":"inlineCode","value":"ibm-privileged-scc","position":{"start":{"line":90,"column":31,"offset":3115},"end":{"line":90,"column":51,"offset":3135},"indent":[]}},{"type":"text","value":" exist in your cluster:","position":{"start":{"line":90,"column":51,"offset":3135},"end":{"line":90,"column":74,"offset":3158},"indent":[]}}],"position":{"start":{"line":90,"column":1,"offset":3085},"end":{"line":90,"column":74,"offset":3158},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc get scc ibm-anyuid-scc\noc get scc ibm-privileged-scc","position":{"start":{"line":91,"column":1,"offset":3159},"end":{"line":94,"column":4,"offset":3222},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If they don't exist, download ","position":{"start":{"line":96,"column":1,"offset":3224},"end":{"line":96,"column":31,"offset":3254},"indent":[]}},{"type":"link","title":null,"url":"/assets/automation/bai/ibm-anyuid-scc.yaml","children":[{"type":"text","value":"ibm-anyuid-scc.yaml","position":{"start":{"line":96,"column":32,"offset":3255},"end":{"line":96,"column":51,"offset":3274},"indent":[]}}],"position":{"start":{"line":96,"column":31,"offset":3254},"end":{"line":96,"column":96,"offset":3319},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":96,"column":96,"offset":3319},"end":{"line":96,"column":101,"offset":3324},"indent":[]}},{"type":"link","title":null,"url":"/assets/automation/bai/ibm-privileged-scc.yaml","children":[{"type":"text","value":"ibm-privileged-scc.yaml","position":{"start":{"line":96,"column":102,"offset":3325},"end":{"line":96,"column":125,"offset":3348},"indent":[]}}],"position":{"start":{"line":96,"column":101,"offset":3324},"end":{"line":96,"column":174,"offset":3397},"indent":[]}},{"type":"text","value":" files to your working directory and execute the following commands:","position":{"start":{"line":96,"column":174,"offset":3397},"end":{"line":96,"column":242,"offset":3465},"indent":[]}}],"position":{"start":{"line":96,"column":1,"offset":3224},"end":{"line":96,"column":242,"offset":3465},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc apply -f ibm-anyuid-scc.yaml\noc apply -f ibm-privileged-scc.yaml\n","position":{"start":{"line":98,"column":1,"offset":3467},"end":{"line":102,"column":4,"offset":3543},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Download ","position":{"start":{"line":104,"column":1,"offset":3545},"end":{"line":104,"column":10,"offset":3554},"indent":[]}},{"type":"link","title":null,"url":"/assets/automation/bai/bai-psp.yaml","children":[{"type":"text","value":"bai-psp.yaml","position":{"start":{"line":104,"column":11,"offset":3555},"end":{"line":104,"column":23,"offset":3567},"indent":[]}}],"position":{"start":{"line":104,"column":10,"offset":3554},"end":{"line":104,"column":61,"offset":3605},"indent":[]}},{"type":"text","value":" file to your working directory.","position":{"start":{"line":104,"column":61,"offset":3605},"end":{"line":104,"column":93,"offset":3637},"indent":[]}}],"position":{"start":{"line":104,"column":1,"offset":3545},"end":{"line":104,"column":93,"offset":3637},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc apply -f bai-psp.yaml\n\noc adm policy add-scc-to-user ibm-privileged-scc -z bai-prod-release-bai-psp-sa\noc adm policy add-scc-to-user ibm-anyuid-scc -z bai-prod-release-bai-psp-sa\n\noc adm policy add-scc-to-group ibm-anyuid-scc system:authenticated\noc adm policy add-scc-to-user ibm-privileged-scc system:authenticated","position":{"start":{"line":105,"column":1,"offset":3638},"end":{"line":113,"column":4,"offset":3965},"indent":[1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Push the BAI images to the registry","position":{"start":{"line":115,"column":5,"offset":3971},"end":{"line":115,"column":40,"offset":4006},"indent":[]}}],"position":{"start":{"line":115,"column":1,"offset":3967},"end":{"line":115,"column":40,"offset":4006},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If you are installing BAI on IBM Cloud managed OCP cluster:","position":{"start":{"line":117,"column":1,"offset":4008},"end":{"line":117,"column":60,"offset":4067},"indent":[]}}],"position":{"start":{"line":117,"column":1,"offset":4008},"end":{"line":117,"column":60,"offset":4067},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Login to the Docker registry:","position":{"start":{"line":119,"column":3,"offset":4071},"end":{"line":119,"column":32,"offset":4100},"indent":[]}}],"position":{"start":{"line":119,"column":3,"offset":4071},"end":{"line":119,"column":32,"offset":4100},"indent":[]}}],"position":{"start":{"line":119,"column":1,"offset":4069},"end":{"line":119,"column":32,"offset":4100},"indent":[]}}],"position":{"start":{"line":119,"column":1,"offset":4069},"end":{"line":119,"column":32,"offset":4100},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"docker login -u $(oc whoami) -p $(oc whoami -t) docker-registry.default.svc:5000","position":{"start":{"line":120,"column":1,"offset":4101},"end":{"line":122,"column":4,"offset":4189},"indent":[1,1]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Download the ","position":{"start":{"line":123,"column":3,"offset":4192},"end":{"line":123,"column":16,"offset":4205},"indent":[]}},{"type":"inlineCode","value":"loadimages.sh","position":{"start":{"line":123,"column":16,"offset":4205},"end":{"line":123,"column":31,"offset":4220},"indent":[]}},{"type":"text","value":" script to your working directory:","position":{"start":{"line":123,"column":31,"offset":4220},"end":{"line":123,"column":65,"offset":4254},"indent":[]}}],"position":{"start":{"line":123,"column":3,"offset":4192},"end":{"line":123,"column":65,"offset":4254},"indent":[]}}],"position":{"start":{"line":123,"column":1,"offset":4190},"end":{"line":123,"column":65,"offset":4254},"indent":[]}}],"position":{"start":{"line":123,"column":1,"offset":4190},"end":{"line":123,"column":65,"offset":4254},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"wget https://raw.githubusercontent.com/icp4a/cert-kubernetes/19.0.1/scripts/loadimages.sh\nchmod +x loadimages.sh","position":{"start":{"line":124,"column":1,"offset":4255},"end":{"line":127,"column":4,"offset":4375},"indent":[1,1,1]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Load the images:","position":{"start":{"line":128,"column":3,"offset":4378},"end":{"line":128,"column":19,"offset":4394},"indent":[]}}],"position":{"start":{"line":128,"column":3,"offset":4378},"end":{"line":128,"column":19,"offset":4394},"indent":[]}}],"position":{"start":{"line":128,"column":1,"offset":4376},"end":{"line":128,"column":19,"offset":4394},"indent":[]}}],"position":{"start":{"line":128,"column":1,"offset":4376},"end":{"line":128,"column":19,"offset":4394},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"./loadimages.sh -p ICP4A19.0.1-bai.tgz -r docker-registry.default.svc:5000/baiproject","position":{"start":{"line":129,"column":1,"offset":4395},"end":{"line":131,"column":4,"offset":4488},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If you are installing BAI on an on-prem OCP:","position":{"start":{"line":133,"column":1,"offset":4490},"end":{"line":133,"column":45,"offset":4534},"indent":[]}}],"position":{"start":{"line":133,"column":1,"offset":4490},"end":{"line":133,"column":45,"offset":4534},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Find the url of the cluster registry:","position":{"start":{"line":135,"column":3,"offset":4538},"end":{"line":135,"column":40,"offset":4575},"indent":[]}}],"position":{"start":{"line":135,"column":3,"offset":4538},"end":{"line":135,"column":40,"offset":4575},"indent":[]}}],"position":{"start":{"line":135,"column":1,"offset":4536},"end":{"line":135,"column":40,"offset":4575},"indent":[]}}],"position":{"start":{"line":135,"column":1,"offset":4536},"end":{"line":135,"column":40,"offset":4575},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc -n default get route\n# search for route to docker-registry\nsudo docker login -u $(oc whoami) -p $(oc whoami -t) <route_to_docker_registry>","position":{"start":{"line":136,"column":1,"offset":4576},"end":{"line":140,"column":4,"offset":4725},"indent":[1,1,1,1]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Download the ","position":{"start":{"line":142,"column":3,"offset":4729},"end":{"line":142,"column":16,"offset":4742},"indent":[]}},{"type":"inlineCode","value":"loadimages.sh","position":{"start":{"line":142,"column":16,"offset":4742},"end":{"line":142,"column":31,"offset":4757},"indent":[]}},{"type":"text","value":" script to your working directory:","position":{"start":{"line":142,"column":31,"offset":4757},"end":{"line":142,"column":65,"offset":4791},"indent":[]}}],"position":{"start":{"line":142,"column":3,"offset":4729},"end":{"line":142,"column":65,"offset":4791},"indent":[]}}],"position":{"start":{"line":142,"column":1,"offset":4727},"end":{"line":142,"column":65,"offset":4791},"indent":[]}}],"position":{"start":{"line":142,"column":1,"offset":4727},"end":{"line":142,"column":65,"offset":4791},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"wget https://raw.githubusercontent.com/icp4a/cert-kubernetes/19.0.1/scripts/loadimages.sh\nchmod +x loadimages.sh","position":{"start":{"line":143,"column":1,"offset":4792},"end":{"line":146,"column":4,"offset":4912},"indent":[1,1,1]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Load the images:","position":{"start":{"line":147,"column":3,"offset":4915},"end":{"line":147,"column":19,"offset":4931},"indent":[]}}],"position":{"start":{"line":147,"column":3,"offset":4915},"end":{"line":147,"column":19,"offset":4931},"indent":[]}}],"position":{"start":{"line":147,"column":1,"offset":4913},"end":{"line":147,"column":19,"offset":4931},"indent":[]}}],"position":{"start":{"line":147,"column":1,"offset":4913},"end":{"line":147,"column":19,"offset":4931},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"sudo ./loadimages.sh -p ICP4A19.0.1-bai.tgz -r <route_to_docker_registry>/baiproject","position":{"start":{"line":148,"column":1,"offset":4932},"end":{"line":150,"column":4,"offset":5024},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Set up the persistent volumes","position":{"start":{"line":152,"column":5,"offset":5030},"end":{"line":152,"column":34,"offset":5059},"indent":[]}}],"position":{"start":{"line":152,"column":1,"offset":5026},"end":{"line":152,"column":34,"offset":5059},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Run the following commands to create the required PV folders in NFS, where ","position":{"start":{"line":154,"column":1,"offset":5061},"end":{"line":154,"column":76,"offset":5136},"indent":[]}},{"type":"inlineCode","value":"/data/persistentvolumes/","position":{"start":{"line":154,"column":76,"offset":5136},"end":{"line":154,"column":102,"offset":5162},"indent":[]}},{"type":"text","value":" is the mounted directory of your NFS server:","position":{"start":{"line":154,"column":102,"offset":5162},"end":{"line":154,"column":147,"offset":5207},"indent":[]}}],"position":{"start":{"line":154,"column":1,"offset":5061},"end":{"line":154,"column":147,"offset":5207},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"sudo mkdir -p /data/persistentvolumes/bai/ibm-bai-pv\nsudo chown 9999:9999 /data/persistentvolumes/bai/ibm-bai-pv\nsudo chmod 770 /data/persistentvolumes/bai/ibm-bai-pv\n\nmkdir -p /data/persistentvolumes/bai/ibm-bai-ek-pv-0\nmkdir -p /data/persistentvolumes/bai/ibm-bai-ek-pv-1\nmkdir -p /data/persistentvolumes/bai/ibm-bai-ek-pv-2\nmkdir -p /data/persistentvolumes/bai/ibm-bai-ek-pv-3\nsudo chown 1000:1000 /data/persistentvolumes/bai/ibm-bai-ek-pv-0\nsudo chown 1000:1000 /data/persistentvolumes/bai/ibm-bai-ek-pv-1\nsudo chown 1000:1000 /data/persistentvolumes/bai/ibm-bai-ek-pv-2\nsudo chown 1000:1000 /data/persistentvolumes/bai/ibm-bai-ek-pv-3\nsudo chmod 770 /data/persistentvolumes/bai/ibm-bai-ek-pv-0\nsudo chmod 770 /data/persistentvolumes/bai/ibm-bai-ek-pv-1\nsudo chmod 770 /data/persistentvolumes/bai/ibm-bai-ek-pv-2\nsudo chmod 770 /data/persistentvolumes/bai/ibm-bai-ek-pv-3\n\nmkdir /data/persistentvolumes/bai/es-snapshots-pv\nsudo chown 1000:1000 /data/persistentvolumes/bai/es-snapshots-pv\nsudo chmod 770 /data/persistentvolumes/bai/es-snapshots-pv","position":{"start":{"line":156,"column":1,"offset":5209},"end":{"line":177,"column":4,"offset":6267},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Download the ","position":{"start":{"line":179,"column":1,"offset":6269},"end":{"line":179,"column":14,"offset":6282},"indent":[]}},{"type":"link","title":null,"url":"/assets/automation/bai/bai-pv.yaml","children":[{"type":"inlineCode","value":"bai-pv.yaml","position":{"start":{"line":179,"column":15,"offset":6283},"end":{"line":179,"column":28,"offset":6296},"indent":[]}}],"position":{"start":{"line":179,"column":14,"offset":6282},"end":{"line":179,"column":65,"offset":6333},"indent":[]}},{"type":"text","value":" PV configuration file to your working directory. Edit the file and replace the IP address of the NFS server by the name or the IP address of your server. Modify the path of the directory if necessary. ","position":{"start":{"line":179,"column":65,"offset":6333},"end":{"line":179,"column":267,"offset":6535},"indent":[]}}],"position":{"start":{"line":179,"column":1,"offset":6269},"end":{"line":179,"column":267,"offset":6535},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc apply -f bai-pv.yaml","position":{"start":{"line":181,"column":1,"offset":6537},"end":{"line":183,"column":4,"offset":6570},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Deploy BAI","position":{"start":{"line":185,"column":5,"offset":6576},"end":{"line":185,"column":15,"offset":6586},"indent":[]}}],"position":{"start":{"line":185,"column":1,"offset":6572},"end":{"line":185,"column":15,"offset":6586},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":true,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Download the ","position":{"start":{"line":187,"column":3,"offset":6590},"end":{"line":187,"column":16,"offset":6603},"indent":[]}},{"type":"link","title":null,"url":"/assets/automation/bai/values.yaml","children":[{"type":"inlineCode","value":"values.yaml","position":{"start":{"line":187,"column":17,"offset":6604},"end":{"line":187,"column":30,"offset":6617},"indent":[]}}],"position":{"start":{"line":187,"column":16,"offset":6603},"end":{"line":187,"column":67,"offset":6654},"indent":[]}},{"type":"text","value":" file to your working directory. Make sure that the Kafka ","position":{"start":{"line":187,"column":67,"offset":6654},"end":{"line":187,"column":125,"offset":6712},"indent":[]}},{"type":"inlineCode","value":"bootstrapServers","position":{"start":{"line":187,"column":125,"offset":6712},"end":{"line":187,"column":143,"offset":6730},"indent":[]}},{"type":"text","value":" name corresponds to the name from the ","position":{"start":{"line":187,"column":143,"offset":6730},"end":{"line":187,"column":182,"offset":6769},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"Set-up the Kafka bootstrap server","position":{"start":{"line":187,"column":183,"offset":6770},"end":{"line":187,"column":216,"offset":6803},"indent":[]}}],"position":{"start":{"line":187,"column":182,"offset":6769},"end":{"line":187,"column":217,"offset":6804},"indent":[]}},{"type":"text","value":" section. ","position":{"start":{"line":187,"column":217,"offset":6804},"end":{"line":187,"column":227,"offset":6814},"indent":[]}}],"position":{"start":{"line":187,"column":3,"offset":6590},"end":{"line":187,"column":227,"offset":6814},"indent":[]}}],"position":{"start":{"line":187,"column":1,"offset":6588},"end":{"line":188,"column":1,"offset":6815},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"To update the operator configuration, copy this ","position":{"start":{"line":189,"column":3,"offset":6818},"end":{"line":189,"column":51,"offset":6866},"indent":[]}},{"type":"link","title":null,"url":"/assets/automation/bai/my_ibm_cp4a_cr_3.yaml","children":[{"type":"inlineCode","value":"my_ibm_cp4a_cr_3.yaml","position":{"start":{"line":189,"column":52,"offset":6867},"end":{"line":189,"column":75,"offset":6890},"indent":[]}}],"position":{"start":{"line":189,"column":51,"offset":6866},"end":{"line":189,"column":122,"offset":6937},"indent":[]}},{"type":"text","value":" template file in your working directory and update it as needed. You can highlight the BAI configuration sections that need your attention by doing a diff with the template file found in ","position":{"start":{"line":189,"column":122,"offset":6937},"end":{"line":189,"column":310,"offset":7125},"indent":[]}},{"type":"link","title":null,"url":"/assets/automation/bas/my_ibm_cp4a_cr_2.yaml","children":[{"type":"inlineCode","value":"my_ibm_cp4a_cr_2.yaml","position":{"start":{"line":189,"column":311,"offset":7126},"end":{"line":189,"column":334,"offset":7149},"indent":[]}}],"position":{"start":{"line":189,"column":310,"offset":7125},"end":{"line":189,"column":381,"offset":7196},"indent":[]}}],"position":{"start":{"line":189,"column":3,"offset":6818},"end":{"line":189,"column":381,"offset":7196},"indent":[]}}],"position":{"start":{"line":189,"column":1,"offset":6816},"end":{"line":190,"column":1,"offset":7197},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Apply the updated custom resource definition file:","position":{"start":{"line":191,"column":3,"offset":7200},"end":{"line":191,"column":53,"offset":7250},"indent":[]}}],"position":{"start":{"line":191,"column":3,"offset":7200},"end":{"line":191,"column":53,"offset":7250},"indent":[]}}],"position":{"start":{"line":191,"column":1,"offset":7198},"end":{"line":191,"column":53,"offset":7250},"indent":[]}}],"position":{"start":{"line":187,"column":1,"offset":6588},"end":{"line":191,"column":53,"offset":7250},"indent":[1,1,1,1]}},{"type":"code","lang":null,"meta":null,"value":"oc apply -f my_ibm_icp4a_cr_3.yaml","position":{"start":{"line":192,"column":1,"offset":7251},"end":{"line":194,"column":4,"offset":7293},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"You should see the following new pods deployed:","position":{"start":{"line":196,"column":1,"offset":7295},"end":{"line":196,"column":48,"offset":7342},"indent":[]}}],"position":{"start":{"line":196,"column":1,"offset":7295},"end":{"line":196,"column":48,"offset":7342},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"NAME                                              READY   STATUS      RESTARTS   AGE\ncp4a-prod-bai-admin-d877c8b66-8xzs5               1/1     Running     0          15h\ncp4a-prod-bai-bawadv-97flq                        0/1     Completed   0          15h\ncp4a-prod-bai-bpmn-bvrtx                          0/1     Completed   0          15h\ncp4a-prod-bai-content-nqgl2                       0/1     Completed   0          15h\ncp4a-prod-bai-flink-jobmanager-5844df9685-2dkz5   1/1     Running     0          15h\ncp4a-prod-bai-flink-taskmanager-0                 1/1     Running     3          15h\ncp4a-prod-bai-flink-taskmanager-1                 1/1     Running     3          15h\ncp4a-prod-bai-flink-taskmanager-2                 1/1     Running     3          15h\ncp4a-prod-bai-flink-taskmanager-3                 1/1     Running     0          15h\ncp4a-prod-bai-flink-taskmanager-4                 1/1     Running     3          15h\ncp4a-prod-bai-flink-zk-0                          1/1     Running     0          15h\ncp4a-prod-bai-icm-pc2vw                           0/1     Completed   0          15h\ncp4a-prod-bai-odm-94dch                           0/1     Completed   0          15h\ncp4a-prod-bai-setup-wphkf                         0/1     Completed   0          15h\ncp4a-prod-ibm-dba-ek-client-547dfdbd94-5jdxl      1/1     Running     0          15h\ncp4a-prod-ibm-dba-ek-data-0                       1/1     Running     0          15h\ncp4a-prod-ibm-dba-ek-kibana-7cb766fcd7-5bpl8      1/1     Running     0          15h\ncp4a-prod-ibm-dba-ek-master-0                     1/1     Running     0          15h\ncp4a-prod-ibm-dba-ek-security-config-5hj2p        0/1     Completed   0          15h","position":{"start":{"line":197,"column":1,"offset":7343},"end":{"line":218,"column":4,"offset":9050},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Expose the Kibana service","position":{"start":{"line":220,"column":5,"offset":9056},"end":{"line":220,"column":30,"offset":9081},"indent":[]}}],"position":{"start":{"line":220,"column":1,"offset":9052},"end":{"line":220,"column":30,"offset":9081},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Download ","position":{"start":{"line":222,"column":1,"offset":9083},"end":{"line":222,"column":10,"offset":9092},"indent":[]}},{"type":"link","title":null,"url":"/assets/automation/bai/route.yaml","children":[{"type":"inlineCode","value":"route.yaml","position":{"start":{"line":222,"column":11,"offset":9093},"end":{"line":222,"column":23,"offset":9105},"indent":[]}}],"position":{"start":{"line":222,"column":10,"offset":9092},"end":{"line":222,"column":59,"offset":9141},"indent":[]}},{"type":"text","value":" file to your working directory and run the following command:","position":{"start":{"line":222,"column":59,"offset":9141},"end":{"line":222,"column":121,"offset":9203},"indent":[]}}],"position":{"start":{"line":222,"column":1,"offset":9083},"end":{"line":222,"column":121,"offset":9203},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc apply -f route.yaml","position":{"start":{"line":224,"column":1,"offset":9205},"end":{"line":226,"column":4,"offset":9235},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Accessing the Kibana dashboards","position":{"start":{"line":228,"column":5,"offset":9241},"end":{"line":228,"column":36,"offset":9272},"indent":[]}}],"position":{"start":{"line":228,"column":1,"offset":9237},"end":{"line":228,"column":36,"offset":9272},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can find the URL of Kibana in the Application Console of your cluster, in the ","position":{"start":{"line":230,"column":1,"offset":9274},"end":{"line":230,"column":83,"offset":9356},"indent":[]}},{"type":"inlineCode","value":"Services","position":{"start":{"line":230,"column":83,"offset":9356},"end":{"line":230,"column":93,"offset":9366},"indent":[]}},{"type":"text","value":" tab of your BAI project. ","position":{"start":{"line":230,"column":93,"offset":9366},"end":{"line":230,"column":119,"offset":9392},"indent":[]}}],"position":{"start":{"line":230,"column":1,"offset":9274},"end":{"line":230,"column":119,"offset":9392},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The URL should have the following form:\n","position":{"start":{"line":232,"column":1,"offset":9394},"end":{"line":233,"column":1,"offset":9434},"indent":[1]}},{"type":"inlineCode","value":"https://bai-prod-release-ibm-dba-ek-kibana-baiproject.<your-cluster-ID>.<cloud-zone>.containers.appdomain.cloud","position":{"start":{"line":233,"column":1,"offset":9434},"end":{"line":233,"column":114,"offset":9547},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":233,"column":114,"offset":9547},"end":{"line":233,"column":115,"offset":9548},"indent":[]}}],"position":{"start":{"line":232,"column":1,"offset":9394},"end":{"line":233,"column":115,"offset":9548},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"The credential are ","position":{"start":{"line":235,"column":1,"offset":9550},"end":{"line":235,"column":20,"offset":9569},"indent":[]}},{"type":"inlineCode","value":"admin","position":{"start":{"line":235,"column":20,"offset":9569},"end":{"line":235,"column":27,"offset":9576},"indent":[]}},{"type":"text","value":" for user name and ","position":{"start":{"line":235,"column":27,"offset":9576},"end":{"line":235,"column":46,"offset":9595},"indent":[]}},{"type":"inlineCode","value":"passw0rd","position":{"start":{"line":235,"column":46,"offset":9595},"end":{"line":235,"column":56,"offset":9605},"indent":[]}},{"type":"text","value":" for password.","position":{"start":{"line":235,"column":56,"offset":9605},"end":{"line":235,"column":70,"offset":9619},"indent":[]}}],"position":{"start":{"line":235,"column":1,"offset":9550},"end":{"line":235,"column":70,"offset":9619},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Uninstall","position":{"start":{"line":237,"column":4,"offset":9624},"end":{"line":237,"column":13,"offset":9633},"indent":[]}}],"position":{"start":{"line":237,"column":1,"offset":9621},"end":{"line":237,"column":13,"offset":9633},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Uninstall Kafka:","position":{"start":{"line":239,"column":5,"offset":9639},"end":{"line":239,"column":21,"offset":9655},"indent":[]}}],"position":{"start":{"line":239,"column":1,"offset":9635},"end":{"line":239,"column":21,"offset":9655},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"helm delete my-kafka  --purge\noc delete pvc datadir-my-kafka-0\noc delete pvc datadir-my-kafka-1\noc delete pvc datadir-my-kafka-2","position":{"start":{"line":241,"column":1,"offset":9657},"end":{"line":246,"column":4,"offset":9793},"indent":[1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If you created your PVs manually, execute:","position":{"start":{"line":248,"column":1,"offset":9795},"end":{"line":248,"column":43,"offset":9837},"indent":[]}}],"position":{"start":{"line":248,"column":1,"offset":9795},"end":{"line":248,"column":43,"offset":9837},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"oc delete -f kafka-pv.yaml","position":{"start":{"line":249,"column":1,"offset":9838},"end":{"line":251,"column":4,"offset":9872},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Uninstall BAI","position":{"start":{"line":253,"column":5,"offset":9878},"end":{"line":253,"column":18,"offset":9891},"indent":[]}}],"position":{"start":{"line":253,"column":1,"offset":9874},"end":{"line":253,"column":18,"offset":9891},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"helm delete bai-prod-release --purge\noc delete pvc data-bai-prod-release-ibm-dba-ek-data-0\noc delete pvc data-bai-prod-release-ibm-dba-ek-data-1\noc delete pvc data-bai-prod-release-ibm-dba-ek-data-2\noc delete pvc data-bai-prod-release-ibm-dba-ek-data-3\noc delete pvc data-bai-prod-release-ibm-dba-ek-master-0\noc delete -f bai-pv.yaml\noc delete -f route.yaml","position":{"start":{"line":254,"column":1,"offset":9892},"end":{"line":263,"column":4,"offset":10257},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Other useful references to documentation","position":{"start":{"line":265,"column":4,"offset":10262},"end":{"line":265,"column":44,"offset":10302},"indent":[]}}],"position":{"start":{"line":265,"column":1,"offset":10259},"end":{"line":265,"column":44,"offset":10302},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://github.ibm.com/dba/cert-kubernetes/blob/19.0.1/BAI/platform/README_ROKS.md","children":[{"type":"text","value":"BAI install on on Red Hat OpenShift on IBM Cloud","position":{"start":{"line":267,"column":4,"offset":10307},"end":{"line":267,"column":52,"offset":10355},"indent":[]}}],"position":{"start":{"line":267,"column":3,"offset":10306},"end":{"line":267,"column":137,"offset":10440},"indent":[]}}],"position":{"start":{"line":267,"column":3,"offset":10306},"end":{"line":267,"column":137,"offset":10440},"indent":[]}}],"position":{"start":{"line":267,"column":1,"offset":10304},"end":{"line":267,"column":137,"offset":10440},"indent":[]}}],"position":{"start":{"line":267,"column":1,"offset":10304},"end":{"line":267,"column":137,"offset":10440},"indent":[]}},{"type":"export","value":"export const _frontmatter = {}","position":{"start":{"line":270,"column":1,"offset":10443},"end":{"line":270,"column":31,"offset":10473},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":270,"column":31,"offset":10473}}},"scopeImports":[],"scopeIdentifiers":[],"rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\nimport DefaultLayout from \"/Users/davethiessen/github/cloudpak8s/node_modules/gatsby-theme-carbon/src/templates/Default.js\"\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <ul>\n      <li parentName=\"ul\"></li>\n    </ul>\n    <h1>{`make sure there is a space after the - so that the TOC is generated`}</h1>\n    <p>{`{:toc}`}</p>\n    <h3>{`Log in to you OCP cluster`}</h3>\n    <p>{`See the `}<a parentName=\"p\" {...{\n        \"href\": \"/content/automation/pre-requisites\"\n      }}>{`Prerequisites`}</a>{` chapter for details on logging in to your OCP cluster.`}</p>\n    <h2>{`Install Kafka`}</h2>\n    <h3>{`Add the Helm repository`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Execute:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`helm repo add incubator http://storage.googleapis.com/kubernetes-charts-incubator\n`}</code></pre>\n    <h3>{`Create the Kafka project`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Execute:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`oc new-project kafka\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Make sure you are working from the `}<inlineCode parentName=\"li\">{`kafka`}</inlineCode>{` project, then grant the tiller server `}<inlineCode parentName=\"li\">{`edit`}</inlineCode>{` access to current project:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`oc project kafka\noc adm policy add-role-to-user edit \"system:serviceaccount:tiller:tiller\"\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Add the Security Context Constraints (CSS) `}<inlineCode parentName=\"li\">{`anyuid`}</inlineCode>{` to the Service Account `}<inlineCode parentName=\"li\">{`default`}</inlineCode>{` of the project:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`oc adm policy add-scc-to-user anyuid -z default\n`}</code></pre>\n    <h3>{`Create PVs if necessary`}</h3>\n    <p>{`If your cluster does not support dynamic persistence volume, download `}<a parentName=\"p\" {...{\n        \"href\": \"/assets/automation/bai/kafka-pv.yaml\"\n      }}>{`kafka-pv.yaml`}</a>{` and execute:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc apply -f kafka-pv.yaml\n`}</code></pre>\n    <h3>{`Install the Helm chart`}</h3>\n    <p>{`Download the `}<a parentName=\"p\" {...{\n        \"href\": \"/assets/automation/bai/kafka-values.yaml\"\n      }}>{`kafka-values.yaml`}</a>{` file to your working directory and run the following command:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`helm install incubator/kafka --name my-kafka --namespace kafka -f kafka-values.yaml\n`}</code></pre>\n    <p>{`This will deploy `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/helm/charts/tree/master/incubator/kafka\"\n      }}>{`Apache Kafka`}</a>{` and `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/helm/charts/tree/master/incubator/zookeeper\"\n      }}>{`Zookeeper`}</a>{`.`}</p>\n    <p>{`Keep `}<inlineCode parentName=\"p\">{`my-kafka`}</inlineCode>{` as a release name because the rest of the installation assumes it. `}</p>\n    <h3>{`Set-up the Kafka bootstrap server`}</h3>\n    <p>{`If access is from inside the OpenShift cluster environment, then the bootstrap server is `}<inlineCode parentName=\"p\">{`my-kafka-headless.kafka.svc.cluster.local:9092`}</inlineCode>{`.`}</p>\n    <p>{`If access is from an external system, you need to perform the following steps:`}</p>\n    <p>{`1 - Retrieve the OpenShift ingress address with the following command:\n`}<img parentName=\"p\" {...{\n        \"src\": \"/assets/automation//images/rhos-kafka1.png\",\n        \"alt\": \"Kafka ingress\"\n      }}></img></p>\n    <p>{`2 - Use this ingress address to set the bootstrap server to `}<inlineCode parentName=\"p\">{`{rhos-ingress-ip}:31090,{rhos-ingress-ip}:31091,{rhos-ingress-ip}:31092`}</inlineCode>{`.`}</p>\n    <p>{`3 - Add the line `}<inlineCode parentName=\"p\">{`{rhos-ingress-ip} kafka.cluster.local`}</inlineCode>{` to the `}<inlineCode parentName=\"p\">{`/etc/hosts`}</inlineCode>{` file.`}</p>\n    <h2>{`Install Business Automation Insights (BAI)`}</h2>\n    <h3>{`Download the BAI PPA`}</h3>\n    <p>{`Download the following PPA from `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.ibm.com/software/passportadvantage\"\n      }}>{`IBM Passport Advantage`}</a>{` to your working-directory:`}</p>\n    <ul>\n      <li parentName=\"ul\"><em parentName=\"li\">{`IBM Cloud Pak for Automation v19.0.1 - Business Operation Insights for Certified Kubernetes Multiplatform English (CC222EN)`}</em></li>\n    </ul>\n    <p>{`The downloaded archive should be `}<inlineCode parentName=\"p\">{`ICP4A19.0.1-bai.tgz`}</inlineCode>{`.`}</p>\n    <h3>{`Create the BAI project`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Create a new OpenShift project for BAI:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`oc new-project baiproject\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Make sure you are working from your newly created BAI project, then grant the tiller server `}<inlineCode parentName=\"li\">{`edit`}</inlineCode>{` access to current project:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`oc project baiproject\noc adm policy add-role-to-user edit \"system:serviceaccount:tiller:tiller\"\n`}</code></pre>\n    <h3>{`Create a ServiceAccount and update the SCCs`}</h3>\n    <p>{`Check if `}<inlineCode parentName=\"p\">{`ibm-anyuid-scc`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`ibm-privileged-scc`}</inlineCode>{` exist in your cluster:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc get scc ibm-anyuid-scc\noc get scc ibm-privileged-scc\n`}</code></pre>\n    <p>{`If they dont exist, download `}<a parentName=\"p\" {...{\n        \"href\": \"/assets/automation/bai/ibm-anyuid-scc.yaml\"\n      }}>{`ibm-anyuid-scc.yaml`}</a>{` and `}<a parentName=\"p\" {...{\n        \"href\": \"/assets/automation/bai/ibm-privileged-scc.yaml\"\n      }}>{`ibm-privileged-scc.yaml`}</a>{` files to your working directory and execute the following commands:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc apply -f ibm-anyuid-scc.yaml\noc apply -f ibm-privileged-scc.yaml\n\n`}</code></pre>\n    <p>{`Download `}<a parentName=\"p\" {...{\n        \"href\": \"/assets/automation/bai/bai-psp.yaml\"\n      }}>{`bai-psp.yaml`}</a>{` file to your working directory.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc apply -f bai-psp.yaml\n\noc adm policy add-scc-to-user ibm-privileged-scc -z bai-prod-release-bai-psp-sa\noc adm policy add-scc-to-user ibm-anyuid-scc -z bai-prod-release-bai-psp-sa\n\noc adm policy add-scc-to-group ibm-anyuid-scc system:authenticated\noc adm policy add-scc-to-user ibm-privileged-scc system:authenticated\n`}</code></pre>\n    <h3>{`Push the BAI images to the registry`}</h3>\n    <p>{`If you are installing BAI on IBM Cloud managed OCP cluster:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Login to the Docker registry:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`docker login -u $(oc whoami) -p $(oc whoami -t) docker-registry.default.svc:5000\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Download the `}<inlineCode parentName=\"li\">{`loadimages.sh`}</inlineCode>{` script to your working directory:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`wget https://raw.githubusercontent.com/icp4a/cert-kubernetes/19.0.1/scripts/loadimages.sh\nchmod +x loadimages.sh\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Load the images:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`./loadimages.sh -p ICP4A19.0.1-bai.tgz -r docker-registry.default.svc:5000/baiproject\n`}</code></pre>\n    <p>{`If you are installing BAI on an on-prem OCP:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Find the url of the cluster registry:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`oc -n default get route\n# search for route to docker-registry\nsudo docker login -u $(oc whoami) -p $(oc whoami -t) <route_to_docker_registry>\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Download the `}<inlineCode parentName=\"li\">{`loadimages.sh`}</inlineCode>{` script to your working directory:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`wget https://raw.githubusercontent.com/icp4a/cert-kubernetes/19.0.1/scripts/loadimages.sh\nchmod +x loadimages.sh\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Load the images:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`sudo ./loadimages.sh -p ICP4A19.0.1-bai.tgz -r <route_to_docker_registry>/baiproject\n`}</code></pre>\n    <h3>{`Set up the persistent volumes`}</h3>\n    <p>{`Run the following commands to create the required PV folders in NFS, where `}<inlineCode parentName=\"p\">{`/data/persistentvolumes/`}</inlineCode>{` is the mounted directory of your NFS server:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`sudo mkdir -p /data/persistentvolumes/bai/ibm-bai-pv\nsudo chown 9999:9999 /data/persistentvolumes/bai/ibm-bai-pv\nsudo chmod 770 /data/persistentvolumes/bai/ibm-bai-pv\n\nmkdir -p /data/persistentvolumes/bai/ibm-bai-ek-pv-0\nmkdir -p /data/persistentvolumes/bai/ibm-bai-ek-pv-1\nmkdir -p /data/persistentvolumes/bai/ibm-bai-ek-pv-2\nmkdir -p /data/persistentvolumes/bai/ibm-bai-ek-pv-3\nsudo chown 1000:1000 /data/persistentvolumes/bai/ibm-bai-ek-pv-0\nsudo chown 1000:1000 /data/persistentvolumes/bai/ibm-bai-ek-pv-1\nsudo chown 1000:1000 /data/persistentvolumes/bai/ibm-bai-ek-pv-2\nsudo chown 1000:1000 /data/persistentvolumes/bai/ibm-bai-ek-pv-3\nsudo chmod 770 /data/persistentvolumes/bai/ibm-bai-ek-pv-0\nsudo chmod 770 /data/persistentvolumes/bai/ibm-bai-ek-pv-1\nsudo chmod 770 /data/persistentvolumes/bai/ibm-bai-ek-pv-2\nsudo chmod 770 /data/persistentvolumes/bai/ibm-bai-ek-pv-3\n\nmkdir /data/persistentvolumes/bai/es-snapshots-pv\nsudo chown 1000:1000 /data/persistentvolumes/bai/es-snapshots-pv\nsudo chmod 770 /data/persistentvolumes/bai/es-snapshots-pv\n`}</code></pre>\n    <p>{`Download the `}<a parentName=\"p\" {...{\n        \"href\": \"/assets/automation/bai/bai-pv.yaml\"\n      }}><inlineCode parentName=\"a\">{`bai-pv.yaml`}</inlineCode></a>{` PV configuration file to your working directory. Edit the file and replace the IP address of the NFS server by the name or the IP address of your server. Modify the path of the directory if necessary. `}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc apply -f bai-pv.yaml\n`}</code></pre>\n    <h3>{`Deploy BAI`}</h3>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Download the `}<a parentName=\"p\" {...{\n            \"href\": \"/assets/automation/bai/values.yaml\"\n          }}><inlineCode parentName=\"a\">{`values.yaml`}</inlineCode></a>{` file to your working directory. Make sure that the Kafka `}<inlineCode parentName=\"p\">{`bootstrapServers`}</inlineCode>{` name corresponds to the name from the `}<em parentName=\"p\">{`Set-up the Kafka bootstrap server`}</em>{` section. `}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`To update the operator configuration, copy this `}<a parentName=\"p\" {...{\n            \"href\": \"/assets/automation/bai/my_ibm_cp4a_cr_3.yaml\"\n          }}><inlineCode parentName=\"a\">{`my_ibm_cp4a_cr_3.yaml`}</inlineCode></a>{` template file in your working directory and update it as needed. You can highlight the BAI configuration sections that need your attention by doing a diff with the template file found in `}<a parentName=\"p\" {...{\n            \"href\": \"/assets/automation/bas/my_ibm_cp4a_cr_2.yaml\"\n          }}><inlineCode parentName=\"a\">{`my_ibm_cp4a_cr_2.yaml`}</inlineCode></a></p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Apply the updated custom resource definition file:`}</p>\n      </li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`oc apply -f my_ibm_icp4a_cr_3.yaml\n`}</code></pre>\n    <p>{`You should see the following new pods deployed:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`NAME                                              READY   STATUS      RESTARTS   AGE\ncp4a-prod-bai-admin-d877c8b66-8xzs5               1/1     Running     0          15h\ncp4a-prod-bai-bawadv-97flq                        0/1     Completed   0          15h\ncp4a-prod-bai-bpmn-bvrtx                          0/1     Completed   0          15h\ncp4a-prod-bai-content-nqgl2                       0/1     Completed   0          15h\ncp4a-prod-bai-flink-jobmanager-5844df9685-2dkz5   1/1     Running     0          15h\ncp4a-prod-bai-flink-taskmanager-0                 1/1     Running     3          15h\ncp4a-prod-bai-flink-taskmanager-1                 1/1     Running     3          15h\ncp4a-prod-bai-flink-taskmanager-2                 1/1     Running     3          15h\ncp4a-prod-bai-flink-taskmanager-3                 1/1     Running     0          15h\ncp4a-prod-bai-flink-taskmanager-4                 1/1     Running     3          15h\ncp4a-prod-bai-flink-zk-0                          1/1     Running     0          15h\ncp4a-prod-bai-icm-pc2vw                           0/1     Completed   0          15h\ncp4a-prod-bai-odm-94dch                           0/1     Completed   0          15h\ncp4a-prod-bai-setup-wphkf                         0/1     Completed   0          15h\ncp4a-prod-ibm-dba-ek-client-547dfdbd94-5jdxl      1/1     Running     0          15h\ncp4a-prod-ibm-dba-ek-data-0                       1/1     Running     0          15h\ncp4a-prod-ibm-dba-ek-kibana-7cb766fcd7-5bpl8      1/1     Running     0          15h\ncp4a-prod-ibm-dba-ek-master-0                     1/1     Running     0          15h\ncp4a-prod-ibm-dba-ek-security-config-5hj2p        0/1     Completed   0          15h\n`}</code></pre>\n    <h3>{`Expose the Kibana service`}</h3>\n    <p>{`Download `}<a parentName=\"p\" {...{\n        \"href\": \"/assets/automation/bai/route.yaml\"\n      }}><inlineCode parentName=\"a\">{`route.yaml`}</inlineCode></a>{` file to your working directory and run the following command:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc apply -f route.yaml\n`}</code></pre>\n    <h3>{`Accessing the Kibana dashboards`}</h3>\n    <p>{`You can find the URL of Kibana in the Application Console of your cluster, in the `}<inlineCode parentName=\"p\">{`Services`}</inlineCode>{` tab of your BAI project. `}</p>\n    <p>{`The URL should have the following form:\n`}<inlineCode parentName=\"p\">{`https://bai-prod-release-ibm-dba-ek-kibana-baiproject.<your-cluster-ID>.<cloud-zone>.containers.appdomain.cloud`}</inlineCode>{`.`}</p>\n    <p>{`The credential are `}<inlineCode parentName=\"p\">{`admin`}</inlineCode>{` for user name and `}<inlineCode parentName=\"p\">{`passw0rd`}</inlineCode>{` for password.`}</p>\n    <h2>{`Uninstall`}</h2>\n    <h3>{`Uninstall Kafka:`}</h3>\n    <pre><code parentName=\"pre\" {...{}}>{`helm delete my-kafka  --purge\noc delete pvc datadir-my-kafka-0\noc delete pvc datadir-my-kafka-1\noc delete pvc datadir-my-kafka-2\n`}</code></pre>\n    <p>{`If you created your PVs manually, execute:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc delete -f kafka-pv.yaml\n`}</code></pre>\n    <h3>{`Uninstall BAI`}</h3>\n    <pre><code parentName=\"pre\" {...{}}>{`helm delete bai-prod-release --purge\noc delete pvc data-bai-prod-release-ibm-dba-ek-data-0\noc delete pvc data-bai-prod-release-ibm-dba-ek-data-1\noc delete pvc data-bai-prod-release-ibm-dba-ek-data-2\noc delete pvc data-bai-prod-release-ibm-dba-ek-data-3\noc delete pvc data-bai-prod-release-ibm-dba-ek-master-0\noc delete -f bai-pv.yaml\noc delete -f route.yaml\n`}</code></pre>\n    <h2>{`Other useful references to documentation`}</h2>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://github.ibm.com/dba/cert-kubernetes/blob/19.0.1/BAI/platform/README_ROKS.md\"\n        }}>{`BAI install on on Red Hat OpenShift on IBM Cloud`}</a></li>\n    </ul>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}