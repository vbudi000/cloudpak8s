{"version":3,"sources":["webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.js","webpack:///./node_modules/gatsby-theme-carbon/src/templates/Default.js","webpack:///./src/pages/day2/Scalability/index.mdx"],"names":["PageHeader","title","tabs","className","cx","pageHeader","withTabs","length","id","text","EditLink","relativePagePath","repositoryProp","repository","site","siteMetadata","baseUrl","subDirectory","href","branch","row","link","PageTabs","render","this","props","slug","currentTab","split","filter","Boolean","slice","pageTabs","map","tab","slugifiedTab","slugify","lower","selected","currentTabRegex","RegExp","replace","key","selectedItem","listItem","to","tabsContainer","list","React","Component","Default","pageContext","children","location","Title","frontmatter","titleType","theme","description","keywords","pathPrefix","pathname","Layout","homepage","pageTitle","pageDescription","pageKeywords","label","Main","padded","NextPrevious","BackToTopBtn","name","_frontmatter","InlineNotification","console","warn","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-day-2-scalability-index-mdx-2b1089df7a5aacff827e.js","sourcesContent":["import PageHeader from './PageHeader';\n\nexport default PageHeader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { pageHeader, withTabs, text } from './PageHeader.module.scss';\n\nconst PageHeader = ({ title, tabs = [] }) => (\n  <div className={cx(pageHeader, { [withTabs]: tabs.length })}>\n    <div className=\"bx--grid\">\n      <div className=\"bx--row\">\n        <div className=\"bx--col-lg-12\">\n          <h1 id=\"page-title\" className={text}>\n            {title}\n          </h1>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nPageHeader.propTypes = {\n  /**\n   * Specify the title for the page\n   */\n  title: PropTypes.node,\n};\n\nexport default PageHeader;\n","import EditLink from './EditLink';\n\nexport default EditLink;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { graphql, useStaticQuery } from 'gatsby';\n\nimport { link, row } from './EditLink.module.scss';\n\nconst EditLink = ({ relativePagePath, repository: repositoryProp }) => {\n  const {\n    site: {\n      siteMetadata: { repository },\n    },\n  } = useStaticQuery(graphql`\n    query REPOSITORY_QUERY {\n      site {\n        siteMetadata {\n          repository {\n            baseUrl\n            subDirectory\n            branch\n          }\n        }\n      }\n    }\n  `);\n\n  const { baseUrl, subDirectory, branch } = repositoryProp || repository;\n\n  const href = `${baseUrl}/edit/${branch}${subDirectory}/src/pages${relativePagePath}`;\n\n  return baseUrl ? (\n    <div className={`bx--row ${row}`}>\n      <div className=\"bx--col\">\n        <a className={link} href={href}>\n          Edit this page on GitHub\n        </a>\n      </div>\n    </div>\n  ) : null;\n};\n\nEditLink.propTypes = {\n  repository: PropTypes.shape({\n    baseUrl: PropTypes.string,\n    subDirectory: PropTypes.string,\n    branch: PropTypes.string,\n  }),\n  relativePagePath: PropTypes.string,\n};\n\nexport default EditLink;\n","import PageTabs from './PageTabs';\n\nexport default PageTabs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'gatsby';\nimport slugify from 'slugify';\nimport cx from 'classnames';\n\nimport {\n  tabsContainer,\n  list,\n  selectedItem,\n  listItem,\n  link,\n} from './PageTabs.module.scss';\n\nexport default class PageTabs extends React.Component {\n  static propTypes = {\n    tabs: PropTypes.array,\n    slug: PropTypes.string,\n  };\n\n  render() {\n    const { tabs, slug } = this.props;\n    const currentTab = slug\n      .split('/')\n      .filter(Boolean)\n      .slice(-1)[0];\n\n    const pageTabs = tabs.map(tab => {\n      const slugifiedTab = slugify(tab, { lower: true });\n      const selected = slugifiedTab === currentTab;\n      const currentTabRegex = new RegExp(`${currentTab}(?!-)`);\n      const href = slug.replace(currentTabRegex, slugifiedTab);\n      return (\n        <li key={tab} className={cx({ [selectedItem]: selected }, listItem)}>\n          <Link className={link} to={`${href}`}>\n            {tab}\n          </Link>\n        </li>\n      );\n    });\n\n    return (\n      <div className={tabsContainer}>\n        <div className=\"bx--grid\">\n          <div className=\"bx--row\">\n            <div className=\"bx--col-lg-12 bx--col-no-gutter\">\n              <nav>\n                <ul className={list}>{pageTabs}</ul>\n              </nav>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport slugify from 'slugify';\nimport { useStaticQuery, graphql } from 'gatsby';\n\nimport BackToTopBtn from '../components/BackToTopBtn';\nimport Layout from '../components/Layout';\nimport PageHeader from '../components/PageHeader';\nimport EditLink from '../components/EditLink';\nimport NextPrevious from '../components/NextPrevious';\nimport PageTabs from '../components/PageTabs';\nimport Main from '../components/Main';\n\nconst Default = ({ pageContext, children, location, Title }) => {\n  const { frontmatter = {}, relativePagePath, titleType } = pageContext;\n  const { tabs, title, theme, description, keywords } = frontmatter;\n\n  // get the path prefix if it exists\n  const {\n    site: { pathPrefix },\n  } = useStaticQuery(graphql`\n    query PATH_PREFIX_QUERY {\n      site {\n        pathPrefix\n      }\n    }\n  `);\n\n  // let gatsby handle prefixing\n  const slug = pathPrefix\n    ? location.pathname.replace(pathPrefix, '')\n    : location.pathname;\n\n  const getCurrentTab = () => {\n    if (!tabs) return '';\n    return (\n      slug\n        .split('/')\n        .filter(Boolean)\n        .slice(-1)[0] || slugify(tabs[0], { lower: true })\n    );\n  };\n\n  const currentTab = getCurrentTab();\n  return (\n    <Layout\n      tabs={tabs}\n      homepage={false}\n      theme={theme}\n      pageTitle={title}\n      pageDescription={description}\n      pageKeywords={keywords}\n      titleType={titleType}\n    >\n      <PageHeader title={Title ? <Title /> : title} label=\"label\" tabs={tabs} />\n      {tabs && <PageTabs slug={slug} tabs={tabs} currentTab={currentTab} />}\n      <Main padded>\n        {children}\n        <EditLink relativePagePath={relativePagePath} />\n      </Main>\n      <NextPrevious\n        pageContext={pageContext}\n        location={location}\n        slug={slug}\n        tabs={tabs}\n        currentTab={currentTab}\n      />\n      <BackToTopBtn />\n    </Layout>\n  );\n};\n\nexport default Default;\n","import React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/travis/build/ibm-cloud-architecture/cloudpak8s/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst InlineNotification = makeShortcode(\"InlineNotification\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h2>{`Scalability Overview`}</h2>\n    <p>{`One of the major advantages of a cloud platform such as Open Shift Container Platform is the capability to scale up resources to deal with additional load and to scale down to conserve resources when there is less load.\nIn this document we will detail some of the tasks relevant to scalability in OpenShift.`}</p>\n    <p>{`In practice, make sure to test the scalability capabilities of your infrastructure and ensure that your procedures are suitable. For example, attempt to roll out additional nodes gradually and don’t burst out with hundreds of new nodes simultaneously. This will needlessly strain the provisioning capabilties of your infrastructure and you may hit rate-limits set by your cloud provider.`}</p>\n    <p>{`Additionally, take into account the actual availability zones your clusters require - don’t perform all your scaling in one physical location.`}</p>\n    <p>{`In this document, we will focus on the Master Nodes scalability and Worker Nodes scalability.  `}</p>\n    <p>{`Note that there are two basic patterns to deploy OpenShift infrastructure:  `}</p>\n    <ul>\n      <li parentName=\"ul\">{`User Provisioned Infrastructure (UPI) is when the resources are provisioned externally and OpenShift uses them.`}</li>\n      <li parentName=\"ul\">{`Installer Provisioned Infrastructure (IPI) is when the OpenShift installer programmatically creates the resources.\nThe choice between UPI and IPI is done as part of the overall OpenShift architecture during Day 0 planning.`}</li>\n    </ul>\n    <h2>{`Day 1 Platform`}</h2>\n    <p>{`Care must be taken during the initial design and deployment of the OpenShift cluster to allow the cluster to expand. For example, set the cluster classless inter-domain routing (CIDR) to be large enough to accept the number of nodes you expect to grow into.`}</p>\n    <p><strong parentName=\"p\">{`Day 1 Operations tasks for Scalability:`}</strong></p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#set-the-cluster-network-cidr\"\n        }}>{`Set the cluster network CIDR`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#set-the-pod-capacity-of-nodes\"\n        }}>{`Set the pod capacity of Nodes`}</a></li>\n    </ul>\n    <h2>{`Day 2 Platform`}</h2>\n    <p>{`During regular Day 2 operations the cluster may scale up, based on `}<a parentName=\"p\" {...{\n        \"href\": \"../Capacity\"\n      }}>{`Capacity`}</a>{` requirements.`}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#add-worker-nodes\"\n        }}>{`Add Worker Nodes`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#add-worker-nodes-manually\"\n        }}>{`Add Worker Nodes Manually`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#add-master-nodes\"\n        }}>{`Add Master Nodes`}</a></li>\n    </ul>\n    <h2>{`Day 1 Application`}</h2>\n    <p>{`For the purposes of this section, scaling the application is considered to be part of application management and deployment and is not covered here, but in `}<a parentName=\"p\" {...{\n        \"href\": \"../BuildDeploy\"\n      }}>{`Build & Deploy`}</a>{`.`}</p>\n    <h2>{`Day 2 Application`}</h2>\n    <p>{`For the purposes of this section, scaling the application is considered to be part of application management and deployment and is not covered here, but in `}<a parentName=\"p\" {...{\n        \"href\": \"../BuildDeploy\"\n      }}>{`Build & Deploy`}</a>{`.`}</p>\n    <h2>{`Mapping to Personas`}</h2>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Persona`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Task`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`SRE`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Set the cluster network CIDR`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`SRE`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Set the pod capacity of Nodes`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`SRE`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Add Worker Nodes`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`SRE`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Add Worker Nodes Manually`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`SRE`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Add Master Nodes`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <a name=\"set-the-cluster-network-cidr\"></a>\n    <h2>{`Set the cluster network CIDR`}</h2>\n    <p>{`The `}<a parentName=\"p\" {...{\n        \"href\": \"https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing\"\n      }}>{`CIDR`}</a>{` setting defines the maximum size of the overall OpenShift network.`}</p>\n    <InlineNotification mdxType=\"InlineNotification\">\nThe default clusterNetwork cidr 10.128.0.0/14 cannot be used if the cluster size is more than 500 nodes. It must be set to 10.128.0.0/12 or 10.128.0.0/10 to get to larger node counts beyond 500 nodes.\n    </InlineNotification>\n    <p>{`More information can be found in the `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.openshift.com/container-platform/4.3/scalability_and_performance/recommended-install-practices.html\"\n      }}>{`OpenShift 4.3 documentation`}</a>{`.`}</p>\n    <a name=\"set-the-pod-capacity-of-nodes\"></a>\n    <h2>{`Set the pod capacity of Nodes`}</h2>\n    <InlineNotification mdxType=\"InlineNotification\">\nThe OpenShift Container Platform node configuration file contains important options. For example, two parameters control the maximum number of pods that can be scheduled to a node: podsPerCore and maxPods.\n    </InlineNotification>\n    <p>{`In Kubernetes, a pod that is holding a single container actually uses two containers. The second container is used to set up networking prior to the actual container starting. Therefore, a system running 10 pods will actually have 20 containers running.`}</p>\n    <p><inlineCode parentName=\"p\">{`maxPods`}</inlineCode>{` sets the number of pods the node can run to a fixed value, regardless of the properties of the node.`}</p>\n    <p><inlineCode parentName=\"p\">{`podsPerCore`}</inlineCode>{` sets the number of pods the node can run based on the number of processor cores on the node.`}</p>\n    <p>{`Setting podsPerCore to 0 disables this limit. The default is 0. podsPerCore cannot exceed maxPods.`}</p>\n    <p>{`When both options are in use, the lower of the two values limits the number of pods on a node. `}</p>\n    <p>{`More information about configuring these settings can be found in the `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.openshift.com/container-platform/4.3/scalability_and_performance/recommended-host-practices.html#recommended-node-host-practices_\"\n      }}>{`OpenShift 4.3 documentation`}</a>{`.`}</p>\n    <a name=\"add-worker-nodes\"></a>\n    <h2>{`Add Worker Nodes`}</h2>\n    <p>{`To manage high volume workload with your applications, the OpenShift can be scaled by adding more worker nodes manually or by the AutoScaler.  There are two ways to add worker nodes; 1). adding worker nodes manually or 2). adding worker node by AutoScaler. We will talk about those ways. You also would like to understand that there will be different ways to add worker node manually. It depends on how you create you cluster environment. We will discuss several cases such as a). Cluster in IPI (AWS, Azure, GCP), b). Cluster in UPI (VMware and Bere Metal), and c). Cluster in IBM Cloud.  `}</p>\n    <a name=\"add-worker-nodes-manually\"></a>\n    <h3>{`Add Worker Nodes manually`}</h3>\n    <p>{`We will start discussing how to add worker nodes manually.  As mentioned, the steps will be different depends on the cluster environment.  We will cover 3 scenarios such as AWS for IPI, VMware for UPI, and IBM Cloud.  `}</p>\n    <h3>{`Add Worker Nodes in IPI (AWS, Azure)`}</h3>\n    <p>{`To add worker nodes in IPI, you would need to know about the resources `}<strong parentName=\"p\">{`Machine`}</strong>{` and `}<strong parentName=\"p\">{`MachineSet`}</strong>{`. It is based on the Kubernets Cluster API.  You can find the information about the Cluster API in the following URL.`}</p>\n    <p>{`Kubernetes Cluster API:`}<br parentName=\"p\"></br>{`\n`}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/kubernetes-sigs/cluster-api\"\n      }}>{`https://github.com/kubernetes-sigs/cluster-api`}</a>{`   `}</p>\n    <h3>{`The Machine resource`}</h3>\n    <p>{`The Machine is the resource which describes the status of nodes.\nWhen you deploy your cluster in IPI, the Installer automatically creates the Machine resource for the Master and Worker nodes.`}</p>\n    <p>{`Run the `}<inlineCode parentName=\"p\">{`oc get machines`}</inlineCode>{` command to obtain the Machine resource information. You need to be a user which has cluster admin permission.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`$ oc get machines -n openshift-machine-api\nNAME                                     STATE     TYPE        REGION      ZONE         AGE\ncsmo1aws-fsdjv-master-0                  running   m4.xlarge   us-west-1   us-west-1b   43h\ncsmo1aws-fsdjv-master-1                  running   m4.xlarge   us-west-1   us-west-1c   43h\ncsmo1aws-fsdjv-master-2                  running   m4.xlarge   us-west-1   us-west-1b   43h\ncsmo1aws-fsdjv-worker-us-west-1b-mkdqf   running   m4.large    us-west-1   us-west-1b   43h\ncsmo1aws-fsdjv-worker-us-west-1b-p24nk   running   m4.large    us-west-1   us-west-1b   43h\ncsmo1aws-fsdjv-worker-us-west-1c-pm2bj   running   m4.large    us-west-1   us-west-1c   43h\n$ \n`}</code></pre>\n    <p>{`The Machine is defined as the resource in the Machine API project called `}<strong parentName=\"p\">{`openshift-machine-api`}</strong>{`.\nAs you see in the command output above, the Machines are created per nodes (both Master and Worker).`}</p>\n    <p>{`There are a several options to display the output of `}<strong parentName=\"p\">{`oc get machines`}</strong>{` command. `}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`$ oc get machines -n openshift-machine-api -o jsonpath='{range .items[*]}{\"\\\\n\"}{.metadata.name}{\"\\\\t\"}{.spec.providerSpec.value.instanceType}{end}{\"\\\\n\"}'\n\ncsmo1aws-fsdjv-master-0 m4.xlarge\ncsmo1aws-fsdjv-master-1 m4.xlarge\ncsmo1aws-fsdjv-master-2 m4.xlarge\ncsmo1aws-fsdjv-worker-us-west-1b-mkdqf  m4.large\ncsmo1aws-fsdjv-worker-us-west-1b-p24nk  m4.large\ncsmo1aws-fsdjv-worker-us-west-1c-pm2bj  m4.large\n$ \n`}</code></pre>\n    <p>{`For your reference, further examples are available `}<a parentName=\"p\" {...{\n        \"href\": \"./scalability_command_examples.md#oc-get-machines\"\n      }}>{`here`}</a>{`.`}</p>\n    <p>{`You can specify `}<strong parentName=\"p\">{`-o yaml`}</strong>{` option with the oc get machine command, you can find the meta date such as Machine name and Label as well as the spec information.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`$ oc get machine/<machine_name> -n openshift-machine-api -o yaml\n`}</code></pre>\n    <h3>{`The Machine Set resource`}</h3>\n    <p>{`The MachineSet is the resource which makes a group of the Machine resource in the `}<strong parentName=\"p\">{`openshift-machine-api`}</strong>{` project. The MachineSet is also created by the Installer automatically.\nThe cluster administrator can add or remove the Machine by increasing or decresing the number of replicas of the MachineSet.\nYou can find out the Machine Set information by issuing the oc get machineset command as follow.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`$ oc get machinesets -n openshift-machine-api\nNAME                               DESIRED   CURRENT   READY   AVAILABLE   AGE\ncsmo1aws-fsdjv-worker-us-west-1b   2         2         2       2           2d12h\ncsmo1aws-fsdjv-worker-us-west-1c   1         1         1       1           2d12h\n$\n`}</code></pre>\n    <p>{`You can also get the MachineSet information as the YAML format with the `}<strong parentName=\"p\">{`-o yaml`}</strong>{` option for the oc get machineset command.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`$ oc get machineset/<machineset_name> -n openshift-machine-api -o yaml\n`}</code></pre>\n    <p>{`You can get detailed information of the machinesets by executing `}<strong parentName=\"p\">{`oc describe machinesets`}</strong>{` command. You can find some examples of the use of `}<a parentName=\"p\" {...{\n        \"href\": \"./scalability_command_examples.md#oc-describe-machine\"\n      }}>{`oc commands`}</a>{`.`}</p>\n    <p>{`The MachineSet for the Machine of Worker nodes is created automatically in the `}<strong parentName=\"p\">{`Availability Zone`}</strong>{` which you specify during the cluster installation.`}</p>\n    <p>{`You can find out on which Availability Zone is used if you see the `}<strong parentName=\"p\">{`providerSpec`}</strong>{`.  You may need to add the new MachineSet if a new Region or new Availability Zone is added in your Cloud provider.  `}</p>\n    <h3>{`Adding / Removing Machine`}</h3>\n    <p>{`To add the Machine to a specific Availability Zone, you can run the `}<strong parentName=\"p\">{`oc scale`}</strong>{` command.  It will increase the number of replica of MachineSet. The following is an example to add two worker nodes.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`$ oc scale machineset csmo1aws-fsdjv-worker-us-west-1c --replicas=2 -n openshift-machine-api\nmachineset.machine.openshift.io/csmo1aws-fsdjv-worker-us-west-1c scaled\n$\n`}</code></pre>\n    <p>{`By the command above, the number of replica of the MachineSet will become 2.  The worker nodes and Machine in the availability zone in the MachineSet will be 2 as well.`}</p>\n    <p>{`If you removed applications/services or decrease workload for some reason, you may want to reduce number of worker nodes.  If that’s the case, then you can run oc scale command and specify appropriate number of replicas as follow. `}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`$ oc scale machineset csmo1aws-fsdjv-worker-us-west-1b --replicas=1 -n openshift-machine-api\nmachineset.machine.openshift.io/csmo1aws-fsdjv-worker-us-west-1b scaled\n$\n`}</code></pre>\n    <p>{`In this case, the number of replica will be 1.`}</p>\n    <p>{`After you execute the command, you can verify the result with the commands such as `}<strong parentName=\"p\">{`oc get machines`}</strong>{` and/or `}<strong parentName=\"p\">{`oc get nodes`}</strong>{`.  `}</p>\n    <p>{`In our example above, the number of workers on us-west-1b zone is 1 and the number of workers on us-west-1c zone is 2.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`$ oc get machines -n openshift-machine-api\nNAME                                     STATE     TYPE        REGION      ZONE         AGE\ncsmo1aws-fsdjv-master-0                  running   m4.xlarge   us-west-1   us-west-1b   2d13h\ncsmo1aws-fsdjv-master-1                  running   m4.xlarge   us-west-1   us-west-1c   2d13h\ncsmo1aws-fsdjv-master-2                  running   m4.xlarge   us-west-1   us-west-1b   2d13h\ncsmo1aws-fsdjv-worker-us-west-1b-gx8d2   running   m4.xlarge   us-west-1   us-west-1b   4m33s\ncsmo1aws-fsdjv-worker-us-west-1c-5sr2w   running   m4.xlarge   us-west-1   us-west-1c   17m\ncsmo1aws-fsdjv-worker-us-west-1c-x8gxr   running   m4.xlarge   us-west-1   us-west-1c   6m38s\n$\n`}</code></pre>\n    <pre><code parentName=\"pre\" {...{}}>{`$ oc get nodes\nNAME                                         STATUS   ROLES    AGE     VERSION\nip-10-0-129-227.us-west-1.compute.internal   Ready    master   2d13h   v1.14.6+cebabbf4a\nip-10-0-136-11.us-west-1.compute.internal    Ready    worker   57s     v1.14.6+cebabbf4a\nip-10-0-139-19.us-west-1.compute.internal    Ready    master   2d13h   v1.14.6+cebabbf4a\nip-10-0-146-131.us-west-1.compute.internal   Ready    worker   3m8s    v1.14.6+cebabbf4a\nip-10-0-146-194.us-west-1.compute.internal   Ready    worker   13m     v1.14.6+cebabbf4a\nip-10-0-151-108.us-west-1.compute.internal   Ready    master   2d13h   v1.14.6+cebabbf4a\n$ \n`}</code></pre>\n    <h3>{`Adding / Removing worker nodes via Web Console`}</h3>\n    <p>{`You can also add/remove worker nodes via Web Console.\n1. Login with the cluster admin permission\n2. Go to Compute —> Machine Sets\n`}<span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1152px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"47.94711203897008%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABnUlEQVQoz52QWy8DQRiG90egVB2rpVVKtWgbh95wIRIuiHNonM+tpE34S36Da/f+gBsSQkK1dmd3Zl/fTLt1uMJsnrzzvTvf+82uNhyNIdTTi06fH77WZnS0NCm8FZoaXGh01RG18NSX1U000t6t/Bq0edwI+n3wt7dCC4XC8Pm7EIiOIjKXQc/MAcKzh4jNnSCxmEFSspStMrpcRvoja3kkV/MYXDhDYiVHmqXASBzN3iA2do5hATAE8MZJaU+ivK989UyUzzkwQgtHExQYwPrmHq5unnB5fY+XonxFyYLabFFG8E9sXvUsplNpqr1ULdQ3pG6Y3j7A3avA7ZMBZtFh2PTQZIOBMTmfHNtWapomeQyytDgHlwgBQWjd4UF42gJIb+3D0AVKuoUi8c4s1fzw/Ijngo6SwVWDTTdjJsdryVQhcohEOIHR+Dg6gv3YPTylqfT/3mUYr9wSKBQLaoBhfjZzYUNnFFCpnUCpWmpyGgPxMWRy5/i5nE/8y9KmZuYRS6Zwlr+ohjj8rH+DNjE1i95YEkfZ3LeA/64PxzqGzN1p4QQAAAAASUVORK5CYII=')\",\n            \"backgroundSize\": \"cover\",\n            \"display\": \"block\"\n          }\n        }}></span>{`\n  `}<img parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-image\",\n          \"alt\": \"scalability_aws_1\",\n          \"title\": \"scalability_aws_1\",\n          \"src\": \"/static/46967b040e81d8fe997e740f880f4aad/3cbba/scalability_aws_1.png\",\n          \"srcSet\": [\"/static/46967b040e81d8fe997e740f880f4aad/7fc1e/scalability_aws_1.png 288w\", \"/static/46967b040e81d8fe997e740f880f4aad/a5df1/scalability_aws_1.png 576w\", \"/static/46967b040e81d8fe997e740f880f4aad/3cbba/scalability_aws_1.png 1152w\", \"/static/46967b040e81d8fe997e740f880f4aad/82b59/scalability_aws_1.png 1437w\"],\n          \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n          \"style\": {\n            \"width\": \"100%\",\n            \"height\": \"100%\",\n            \"margin\": \"0\",\n            \"verticalAlign\": \"middle\",\n            \"position\": \"absolute\",\n            \"top\": \"0\",\n            \"left\": \"0\"\n          },\n          \"loading\": \"lazy\"\n        }}></img>{`\n    `}</span></p>\n    <ol {...{\n      \"start\": 3\n    }}>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Select MachineSet on the list and click it`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click on X machine under the `}<strong parentName=\"p\">{`Desired Count`}</strong>{` on the `}<strong parentName=\"p\">{`Overview`}</strong>{` tab in the `}<strong parentName=\"p\">{`Machine Set Details`}</strong>{` page\n`}<span parentName=\"p\" {...{\n            \"className\": \"gatsby-resp-image-wrapper\",\n            \"style\": {\n              \"position\": \"relative\",\n              \"display\": \"block\",\n              \"marginLeft\": \"auto\",\n              \"marginRight\": \"auto\",\n              \"maxWidth\": \"1152px\"\n            }\n          }}>{`\n      `}<span parentName=\"span\" {...{\n              \"className\": \"gatsby-resp-image-background-image\",\n              \"style\": {\n                \"paddingBottom\": \"55.14603616133519%\",\n                \"position\": \"relative\",\n                \"bottom\": \"0\",\n                \"left\": \"0\",\n                \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAAB0UlEQVQoz42SW1PTQBTH8yGE0gtipbQOTbUNaIFCAUFrR2cYHtQHfUGrn8CB6UWqyNTLV+Whpck2yV7y92zSzmgV9Mz85uxmd397NrtGIW9ibfU+8mYBS5kMbt9MIT2fHJPCQiqBRGwG8dkbSMxGOT4TkZyLYT4+R8SQXUwjRxjZ3DLy+XtYXMqhWK1j+6iFyqsPqLw+xsOjJh69bf1GrdHCk3dt1HS/0cHj913svmljr/GRcgdG6cEWCtYGUuk7ODntgQG4cAT6bgBJ7QDXhxojCD2fhJsorlaQvJXDSbML4QPMvhwzhDdyaIVEIGmJuoJA0joXknswtMwslaMK2114tB1jI/i+D84FpJRQQYCAUEpdQzRu3LXWYRbLSCxk0ex8guf56PcHsG07lDLGwqz7Wq5Dy6cjGG9qVPfqWK/uI2ta+Hz+LRwUgo7AeSjglPXOk/xPYf3gOfbrB1jZ2MGXrz8wdGzYzCWp+OslTGQTwTTG08MXeHb4EtbaNs563zEYOnAYp2MKqkpSlSq866sEfwj1cTd3a8gsl9A965FIwXV9SKF+Ef5/GCvlKix6i/rZHDdPcUnVDRwPjstD7BHHkPkh9ihCtx36zum3iCl+AtA9vdkYBfS0AAAAAElFTkSuQmCC')\",\n                \"backgroundSize\": \"cover\",\n                \"display\": \"block\"\n              }\n            }}></span>{`\n  `}<img parentName=\"span\" {...{\n              \"className\": \"gatsby-resp-image-image\",\n              \"alt\": \"scalability_aws_2\",\n              \"title\": \"scalability_aws_2\",\n              \"src\": \"/static/a4f71cb1e0bab66f96c7eb7c7601c9bd/3cbba/scalability_aws_2.png\",\n              \"srcSet\": [\"/static/a4f71cb1e0bab66f96c7eb7c7601c9bd/7fc1e/scalability_aws_2.png 288w\", \"/static/a4f71cb1e0bab66f96c7eb7c7601c9bd/a5df1/scalability_aws_2.png 576w\", \"/static/a4f71cb1e0bab66f96c7eb7c7601c9bd/3cbba/scalability_aws_2.png 1152w\", \"/static/a4f71cb1e0bab66f96c7eb7c7601c9bd/fcddc/scalability_aws_2.png 1438w\"],\n              \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n              \"style\": {\n                \"width\": \"100%\",\n                \"height\": \"100%\",\n                \"margin\": \"0\",\n                \"verticalAlign\": \"middle\",\n                \"position\": \"absolute\",\n                \"top\": \"0\",\n                \"left\": \"0\"\n              },\n              \"loading\": \"lazy\"\n            }}></img>{`\n    `}</span></p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`On the Edit Count window, type the replica number which you want to have and click on Save button\n`}<span parentName=\"p\" {...{\n            \"className\": \"gatsby-resp-image-wrapper\",\n            \"style\": {\n              \"position\": \"relative\",\n              \"display\": \"block\",\n              \"marginLeft\": \"auto\",\n              \"marginRight\": \"auto\",\n              \"maxWidth\": \"1152px\"\n            }\n          }}>{`\n      `}<span parentName=\"span\" {...{\n              \"className\": \"gatsby-resp-image-background-image\",\n              \"style\": {\n                \"paddingBottom\": \"38.08200138985407%\",\n                \"position\": \"relative\",\n                \"bottom\": \"0\",\n                \"left\": \"0\",\n                \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABlElEQVQoz32RX2/SUByGe+GFdxMEWlqGAcpwY+pYwU3iJ9Ir+VPanvbQBWO81mR+g10tJm43JkaFzO/BhSB+BROTx0ORBGe0yZP3nJPz/s6TVKvv1rGrNcrlCna5RKlYpL5X5/i4Tbv9mGbzIY3DpsKh0XA4dFpUKjZ5XWfbKmDlDZUWtWqVHdtGy9zOkEqlSeVM9N0WN/QqT3qC74tvTKdTZrOvihnz+ZzFYgE/f9ALT7hp7lC49whj74jc3VZCttZEy+UL3Epn2X/g4MkRT5+5vH13yf++84v3dL0AOXpBEI8UzxG/0Qxzm610hv37B/heSK/b5c3pKVdXXxiPx0wmk4Tl+uOnz7w++4B8+Yo49BkOJbGMiFVGoUBGoTI0rJWhGjjwQwIRMhgM6HQ6dNXwfr+f4Lquok/ku6ooiKREbhBFkUKiZXWTrdTKMAgEnucjhFCvD/8ijmOVMXK5vzZwfUczC3dIZw0O1B8U4cowXGYQ/IHv+0lhs7zJ+lwrlmwMq4jTOkpKS7t/Ga5L8prdJr8A9XVvrmvuAU0AAAAASUVORK5CYII=')\",\n                \"backgroundSize\": \"cover\",\n                \"display\": \"block\"\n              }\n            }}></span>{`\n  `}<img parentName=\"span\" {...{\n              \"className\": \"gatsby-resp-image-image\",\n              \"alt\": \"scalability_aws_3\",\n              \"title\": \"scalability_aws_3\",\n              \"src\": \"/static/41a618b9910b576d14e86241eebf7042/3cbba/scalability_aws_3.png\",\n              \"srcSet\": [\"/static/41a618b9910b576d14e86241eebf7042/7fc1e/scalability_aws_3.png 288w\", \"/static/41a618b9910b576d14e86241eebf7042/a5df1/scalability_aws_3.png 576w\", \"/static/41a618b9910b576d14e86241eebf7042/3cbba/scalability_aws_3.png 1152w\", \"/static/41a618b9910b576d14e86241eebf7042/a882e/scalability_aws_3.png 1439w\"],\n              \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n              \"style\": {\n                \"width\": \"100%\",\n                \"height\": \"100%\",\n                \"margin\": \"0\",\n                \"verticalAlign\": \"middle\",\n                \"position\": \"absolute\",\n                \"top\": \"0\",\n                \"left\": \"0\"\n              },\n              \"loading\": \"lazy\"\n            }}></img>{`\n    `}</span>{`\nIn our example, we updated the replica number from 1 to 2 for the csmo1aws-fsdjv-worker-us-west-1c Machine Set.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Once it’s done, then the worker nodes will be added/removed.`}<br parentName=\"p\"></br>{`\n`}<span parentName=\"p\" {...{\n            \"className\": \"gatsby-resp-image-wrapper\",\n            \"style\": {\n              \"position\": \"relative\",\n              \"display\": \"block\",\n              \"marginLeft\": \"auto\",\n              \"marginRight\": \"auto\",\n              \"maxWidth\": \"1152px\"\n            }\n          }}>{`\n      `}<span parentName=\"span\" {...{\n              \"className\": \"gatsby-resp-image-background-image\",\n              \"style\": {\n                \"paddingBottom\": \"55.21557719054242%\",\n                \"position\": \"relative\",\n                \"bottom\": \"0\",\n                \"left\": \"0\",\n                \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAAB0ElEQVQoz4WSa08TQRSG90dwa2vFYrmWQusCtdZUQS7SkDQxMTHRD6LVX2AgvdAqJjXhg3/URGp3t3vfx7Nrq4ICJ3lyZjI7z7yZWSWbWaagrpFZzjKbTjNz+xapZOI304k48YlxYhNjUR+NY+NjJKYmScanSMYmmbubYl5QFpeyqOoG6dkFcuUKj143KL38QOnVEVuHdXbeNi6wV2vw9F2TvXBea7H7vsPmmyZPaifSWyir6w9ZUUskZxY5bnfRgW+6y7kZ4Mk44Pryh7hC+L2SW3tANn+fRGqe43oH1wZD+zGkjzWQI3yPwJMt/hUEnuwz8RwLJS8JV0WauCPCZgdbjjOMAbbt4DgunufhBwGB4Pv+NfxaV3IizN4rinCBxsknLMvm+3kPTdNEaovciHq/34/kYYXyyxUMD1VW1CKZXIH49Bz11sdo0XFdSefgDnsoCqVhghuFxfI2G6VN0kt5mu1TNF1HM8xI9r8ayUaCyygHz16wvV9FLT7m85czen0N3XAkUZjOk3R+9NZXCf4R7lefUxHyhTLds69Y8iqmaeO5/lB4049zsZSt3QN2KtXoHtunXXqSrqdb6KYToQ3kQYw/jOa69PAvCK/mb34CCvG9+IvELXEAAAAASUVORK5CYII=')\",\n                \"backgroundSize\": \"cover\",\n                \"display\": \"block\"\n              }\n            }}></span>{`\n  `}<img parentName=\"span\" {...{\n              \"className\": \"gatsby-resp-image-image\",\n              \"alt\": \"scalability_aws_5\",\n              \"title\": \"scalability_aws_5\",\n              \"src\": \"/static/7fcbeca679e6daf4775d1223aceae16d/3cbba/scalability_aws_5.png\",\n              \"srcSet\": [\"/static/7fcbeca679e6daf4775d1223aceae16d/7fc1e/scalability_aws_5.png 288w\", \"/static/7fcbeca679e6daf4775d1223aceae16d/a5df1/scalability_aws_5.png 576w\", \"/static/7fcbeca679e6daf4775d1223aceae16d/3cbba/scalability_aws_5.png 1152w\", \"/static/7fcbeca679e6daf4775d1223aceae16d/fcddc/scalability_aws_5.png 1438w\"],\n              \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n              \"style\": {\n                \"width\": \"100%\",\n                \"height\": \"100%\",\n                \"margin\": \"0\",\n                \"verticalAlign\": \"middle\",\n                \"position\": \"absolute\",\n                \"top\": \"0\",\n                \"left\": \"0\"\n              },\n              \"loading\": \"lazy\"\n            }}></img>{`\n    `}</span>{`\nAs you see above, the Desired Count becomes 2 in our case.`}<br parentName=\"p\"></br>{`\n`}{`You can also find out that there is a new node created in the us-west-1c zone.\n`}<span parentName=\"p\" {...{\n            \"className\": \"gatsby-resp-image-wrapper\",\n            \"style\": {\n              \"position\": \"relative\",\n              \"display\": \"block\",\n              \"marginLeft\": \"auto\",\n              \"marginRight\": \"auto\",\n              \"maxWidth\": \"1152px\"\n            }\n          }}>{`\n      `}<span parentName=\"span\" {...{\n              \"className\": \"gatsby-resp-image-background-image\",\n              \"style\": {\n                \"paddingBottom\": \"50.10438413361169%\",\n                \"position\": \"relative\",\n                \"bottom\": \"0\",\n                \"left\": \"0\",\n                \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACAklEQVQoz5VRa28SQRTdX2CtbbUC2iIVjAv0sdgHEmOQ1GrbYOKXftYEq/UfKIVtxDSpjw/+SptAd4F9zGP3eGcW+t1JTu7MnXvPPWfGKJtFbFkVmMUSVnI5ZO+lsZRJYTmTxjLt76dTWFyYx93b8zoqzN2cwa2ZG5ibnaX8AjKLd5DPPUCBYDw2y7CsLaw8LMCqN/GiZaP+7ivq79vYa51i/7iD/Y/daxx+6qJ5Yut4cHKGg8897H6w8fLYxm6rC2PtSQ0lq4pM9hE6vR/43xVNEE/OxlrlKUrr20gt5dGxe/rC8QKEjCESDLHkE4gJknOkYiTAw0BDcgbBAhjrmzWsVqpEWMDp2XcwIux7DD4TkEQQRbGGlJJiBKn2hDiOIdSAONGm7jnnynKiMJ0toN3tURPgBQLjUMIjTBvckQspSJGQ8EOmc1eOT244Qk5NcTLEKG/swFzd1Ja/tL8RCXDphrh0GPojZSvShQN3oBUIQuD7lKfcFcNfl8H1lJtIqzRq9T3sPGsgX7TQO/+p33Dkc4xJpa8VJoR+4OmGqTWlyBlyTabcMJHUGodvj9B4/QaV6nNc/PpDF9A2HCocBckbKQy9IYQQmpDRhynCPikcjInUF2BcajdG41WTCJswN7ZxfvFbv40XkjomEXB5TRjQD04/RhFDD1FDqY5qhUyc/APXn3al3O9p0gAAAABJRU5ErkJggg==')\",\n                \"backgroundSize\": \"cover\",\n                \"display\": \"block\"\n              }\n            }}></span>{`\n  `}<img parentName=\"span\" {...{\n              \"className\": \"gatsby-resp-image-image\",\n              \"alt\": \"scalability_aws_6\",\n              \"title\": \"scalability_aws_6\",\n              \"src\": \"/static/d30d2b4059edf1ca1dd49820efd9bb3b/3cbba/scalability_aws_6.png\",\n              \"srcSet\": [\"/static/d30d2b4059edf1ca1dd49820efd9bb3b/7fc1e/scalability_aws_6.png 288w\", \"/static/d30d2b4059edf1ca1dd49820efd9bb3b/a5df1/scalability_aws_6.png 576w\", \"/static/d30d2b4059edf1ca1dd49820efd9bb3b/3cbba/scalability_aws_6.png 1152w\", \"/static/d30d2b4059edf1ca1dd49820efd9bb3b/82b59/scalability_aws_6.png 1437w\"],\n              \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n              \"style\": {\n                \"width\": \"100%\",\n                \"height\": \"100%\",\n                \"margin\": \"0\",\n                \"verticalAlign\": \"middle\",\n                \"position\": \"absolute\",\n                \"top\": \"0\",\n                \"left\": \"0\"\n              },\n              \"loading\": \"lazy\"\n            }}></img>{`\n    `}</span>{`   `}</p>\n      </li>\n    </ol>\n    <h2>{`Add Worker Nodes in UPI (VMware, Bare Metal)`}</h2>\n    <p>{`The worker nodes can be added using the same steps as the control plane nodes. `}</p>\n    <p>{`Create a new VM with the RHCOS installer as normal, using the `}<strong parentName=\"p\">{`worker.ign`}</strong>{` file generated during the original install. During the machine’s start up, it will sync with the existing OpenShift cluster’s `}<strong parentName=\"p\">{`Machine Config Operator`}</strong>{` to be admitted into the cluster.`}</p>\n    <p>{`Note: it may be required to manually approve the node’s CSR (Certificate Signing Request) as described in the installation documentation of vSphere or Baremetal.   `}</p>\n    <h2>{`Add Worker Nodes in IBM Cloud (a.k.a. ROKS)`}</h2>\n    <p>{`With IBM Cloud, adding worker nodes in the OpenShift cluster will be done by IBM Cloud Console or by using the IBM Cloud CLI with commands such as\n`}<inlineCode parentName=\"p\">{`ibmcloud ks worker-pool resize --cluster <cluster_name_or_ID> --worker-pool <pool_name>  --size-per-zone <number_of_workers_per_zone>`}</inlineCode>{`\nMore information can be found in the `}<a parentName=\"p\" {...{\n        \"href\": \"https://cloud.ibm.com/docs/containers?topic=containers-add_workers\"\n      }}>{`ROKS documentation`}</a>{`.`}</p>\n    <h2>{`Add Worker Nodes by AutoScaler`}</h2>\n    <p>{`In the previous section, we discussed how to add worker nodes manually.  In this section, we will show you how to add worker nodes by the AutoScaler. With the Auto Scaling capability in OpenShift, the worker nodes will be added / removed automatically based on the application deployment status. You need to understand two more resources such as `}<strong parentName=\"p\">{`ClusterAutoscaler`}</strong>{` and `}<strong parentName=\"p\">{`MachineAutoscaler`}</strong>{` in addition to Machine and MachineSet resources. `}</p>\n    <h3>{`Create ClusterAutoscaler`}</h3>\n    <p>{`The ClusterAutoscaler is a resource for automatically adjusting the size of OpenShift cluster. In the ClusterAutoscaler resource, it describes the maximum number of nodes, the possibility of scaling down, and the minimum and maximum values of CPU, memory, and GPU that can be used by the cluster. When it does the auto scaling (scale up), the upper limit defined by the ClusterAutoscaler will not be exceeded. Note that the ClusterAutoscaler is set for the OpenShift cluster wide, so that only one ClusterAutoscaler can be created per cluster. It is not tied to a specific project. The ClusterAutoscaler is managed by the Operator.  `}</p>\n    <p>{`The following example creates a YAML file that describes a resource named “ca-sample” and creates a ClusterAutoscaler resource with the oc create command. In this sample resource, the upper limit of the total number of nodes in the cluster is 10 and auto scale down is enabled.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`$ cat << EOF  > cluster-autoscaler-sample.yaml\napiVersion: \"autoscaling.openshift.io/v1\"\nkind: \"ClusterAutoscaler\"\nmetadata:\n  name: \"ca-sample\"          ## Name of the ClusterAutoscaler resource\nspec:  \n  resourceLimits:    \n    maxNodesTotal: 10        ## Max number of nodes in the cluser  \n  scaleDown:    \n    enabled: true            ## Enable Scale Down\nEOF\n\n$ oc create -f cluster-autoscaler-sample.yaml\n`}</code></pre>\n    <h3>{`Create MachineAutoscaler`}</h3>\n    <p>{`The MachineAutoscaler is a resource for automatically adjusting the number of Machines in the MachineSet. The number of Machines is adjusted so as not to exceed the upper limit defined by the ClusterAutoscaler. The MachineAutoscaler is required to determine which MachineSet the ClusterAutoscaler will adjust the number of replicas for.  `}</p>\n    <p>{`The following example creates a MachineAutoscaler resource named ma-sample01. The number of replicas is automatically adjusted within the range of 1 to 5 for the specified MachineSet. The MachineAutoscaler is created in the openshift-machine-api project as well as the Machine and the MachineSet. You can check the created the ClusterAutoscaler and the MachineAutoscaler information with the oc get command.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`$ cat << EOF  > machine-autoscaler-sample01.yaml\napiVersion: \"autoscaling.openshift.io/v1beta1\"\nkind: \"MachineAutoscaler\"\nmetadata:\n  name: \"ma-sample01\"\n  namespace: \"openshift-machine-api\"\nspec:\n  minReplicas: 1                       ## Min replica number of MachineSet\n  maxReplicas: 5                       ## Max replica number of MachineSet\n  scaleTargetRef:    \n    apiVersion: machine.openshift.io/v1beta1\n    kind: MachineSet\n    name: <clusterID>-ap-northeast-1a   ## Specify an existing MachineSet name\nEOF\n$ oc create -f machine-autoscaler-sample01.yaml\n`}</code></pre>\n    <p>{`Note that the AutoScale function by ClusterAutoscaler will not work unless the following two conditions are met.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`MachineAutoscaler is set for all MachineSets`}</li>\n      <li parentName=\"ul\">{`The number of replicas of all MachineSets is set to 1 or more and one or more Machines are operating.  `}</li>\n    </ul>\n    <p>{`Check to see if it works. Create a job like the following, and start a large number of containers at once that only execute the sleep command.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`$ cat << EOF  > job-work-queue-sample.yaml\napiVersion: batch/v1\nkind: Jobmetadata:\n  generateName: work-queue-  \n  namespace: autoscale-demo01\nspec:  \n  template:    \n    spec:      \n      containers:      \n      - name: work        \n        image: busybox        \n        command: [\"sleep\",  \"300\"]        \n        resources:          \n          requests:            \n            memory: 500Mi            \n            cpu: 500m        \n        restartPolicy: Never  \n  completions: 20  \n  parallelism: 20\nEOF\n\n$ oc new-project autoscale-demo01; oc project autoscale-demo01\n$ oc create -f job-work-queue-sample.yaml\n`}</code></pre>\n    <p>{`Assuming that your OpenShift cluster has the default configuration. With the above example, the resource is not enough to deploy pods at once.  Therefore, after a while, the worker node will be added automatically.  The pod status will be changed from `}<strong parentName=\"p\">{`Pending`}</strong>{` to `}<strong parentName=\"p\">{`Running`}</strong>{`.  Then the pod which was on hold will be deployed.\nYou can run `}<strong parentName=\"p\">{`oc get nodes`}</strong>{` command and/or oc get pods command to see those behavior.  You can also verify that the worker node will be delete automatically if you delete a newly created pod by issuing `}<strong parentName=\"p\">{`oc delete project`}</strong>{` which will also delete the project.`}</p>\n    <p>{`Note that there are a few cases which the ClusterAutoscaler doesn’t remove worker nodes.  For example, if the pod is using the local storage on the worker node, the worker node won’t be removed by the ClusterAutoscaler.  Another example is that the pod which won’t be move to other worker node due to the cluster resource shortage, then the worker will not be removed by the ClusterAutoscaler.  `}</p>\n    <a name=\"add-master-nodes\"></a>\n    <h2>{`Add Master Nodes`}</h2>\n    <p>{`There should be at least 3 Master nodes deployed with OpenShift 4.x.  If you wish to add new masters due to load (on etcd, for example) then the procedure for adding a new master is the same as adding a regular worker node, except that the node must have the label `}<inlineCode parentName=\"p\">{`machineconfiguration.openshift.io/role: infra`}</inlineCode>{` instead of `}<inlineCode parentName=\"p\">{`worker`}</inlineCode>{`.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}