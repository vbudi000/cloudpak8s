{"componentChunkName":"component---src-pages-automation-install-odm-index-mdx","path":"/automation/install-odm/","result":{"pageContext":{"frontmatter":{"title":"Operational Decision Manager","weight":1200},"relativePagePath":"/automation/install-odm/index.mdx","titleType":"page","MdxNode":{"id":"d9309c77-ffaf-5d50-a5f1-0fad87fc82d0","children":[],"parent":"8fcf8bd4-2a43-5f8e-bc2f-38878ebcbe23","internal":{"content":"---\ntitle: Operational Decision Manager\nweight: 1200\n---\n\n### Required services\nBefore installing Operational Decision Manager (ODM), you should have the following pre-requisites in place:\n\n- Have privileged access to your DB2 database server. \n- Optionally, have access to your LDAP directory server.\n\nSee the [Shared services](/content/automation/shared-services) chapter for details on DB2 or LDAP installation, if needed.\n\n### Prepare the ODM database\n\n```\nsu - db2inst1\ndb2 create database odmdb automatic storage yes using codeset UTF-8 territory US pagesize 32768;\ndb2 connect to odmdb\ndb2 list applications\nexit\n```\n\n### Create the database secret\nRun the following command to create a secret for database access:\n\n```\noc create secret generic odm-db-secret --from-literal=db-user=\"<db-user>\" --from-literal=db-password=\"<db-password>\"\n```\n\n### Create the LDAP secrets\n\n#### LDAP bind secret\nRun the following command to create a secret for LDAP access:\n\n```\noc create secret generic ldap-bind-secret --from-literal=ldapUsername=\"<bind-dn>\" --from-literal=ldapPassword=\"<bind-password>\"\n```\n\n#### User configuration secret\n- Download the [`webSecurity.xml`](/assets/automation/odm/webSecurity.xml) files to your working directory.\n\n- Update the `webSecurity.xml` file to replace the ldap host with the public IP address of your LDAP server, as well as the connection DN and password.\n\n- If needed, you may also update the access info within `webSecurity.xml` file to add users or groups. For the details on how to configure the access info, please refer to the related [ODM knowledge center section](https://www.ibm.com/support/knowledgecenter/SSYHZ8_19.0.x/com.ibm.dba.offerings/topics/con_config_user_registry.html).\n\n- Run the following command:\n```\noc create secret generic odm-users-secret --from-file=webSecurity.xml=webSecurity.xml\n```\n\n### Deploy ODM\n\n- Copy this [`ibm_cp4a_cr_odm.yaml`](/assets/automation/odm/ibm_cp4a_cr_odm.yaml) template file in your working directory and update it as needed (look for the `<>` placeholders in the file).\n\n- Apply the updated custom resource definition file:\n```\noc apply -f ibm_cp4a_cr_odm.yaml\n```\n\nYou should see the following new pods deployed:\n\n```\nNAME                                                  READY   STATUS      RESTARTS   AGE\nodm-demo-odm-decisioncenter-6dbfb56874-6kt4l          1/1     Running     0          17d\nodm-demo-odm-decisionrunner-54c7dbd9ff-wtg2f          1/1     Running     0          17d\nodm-demo-odm-decisionserverconsole-5bd4dc4645-j6xj2   1/1     Running     0          17d\nodm-demo-odm-decisionserverruntime-7d5d64f664-n4g5n   1/1     Running     0          17d\n```\n","type":"Mdx","contentDigest":"6ea393b13e2bc54fa8d45bd4eb8febc3","counter":460,"owner":"gatsby-plugin-mdx"},"frontmatter":{"title":"Operational Decision Manager","weight":1200},"exports":{},"rawBody":"---\ntitle: Operational Decision Manager\nweight: 1200\n---\n\n### Required services\nBefore installing Operational Decision Manager (ODM), you should have the following pre-requisites in place:\n\n- Have privileged access to your DB2 database server. \n- Optionally, have access to your LDAP directory server.\n\nSee the [Shared services](/content/automation/shared-services) chapter for details on DB2 or LDAP installation, if needed.\n\n### Prepare the ODM database\n\n```\nsu - db2inst1\ndb2 create database odmdb automatic storage yes using codeset UTF-8 territory US pagesize 32768;\ndb2 connect to odmdb\ndb2 list applications\nexit\n```\n\n### Create the database secret\nRun the following command to create a secret for database access:\n\n```\noc create secret generic odm-db-secret --from-literal=db-user=\"<db-user>\" --from-literal=db-password=\"<db-password>\"\n```\n\n### Create the LDAP secrets\n\n#### LDAP bind secret\nRun the following command to create a secret for LDAP access:\n\n```\noc create secret generic ldap-bind-secret --from-literal=ldapUsername=\"<bind-dn>\" --from-literal=ldapPassword=\"<bind-password>\"\n```\n\n#### User configuration secret\n- Download the [`webSecurity.xml`](/assets/automation/odm/webSecurity.xml) files to your working directory.\n\n- Update the `webSecurity.xml` file to replace the ldap host with the public IP address of your LDAP server, as well as the connection DN and password.\n\n- If needed, you may also update the access info within `webSecurity.xml` file to add users or groups. For the details on how to configure the access info, please refer to the related [ODM knowledge center section](https://www.ibm.com/support/knowledgecenter/SSYHZ8_19.0.x/com.ibm.dba.offerings/topics/con_config_user_registry.html).\n\n- Run the following command:\n```\noc create secret generic odm-users-secret --from-file=webSecurity.xml=webSecurity.xml\n```\n\n### Deploy ODM\n\n- Copy this [`ibm_cp4a_cr_odm.yaml`](/assets/automation/odm/ibm_cp4a_cr_odm.yaml) template file in your working directory and update it as needed (look for the `<>` placeholders in the file).\n\n- Apply the updated custom resource definition file:\n```\noc apply -f ibm_cp4a_cr_odm.yaml\n```\n\nYou should see the following new pods deployed:\n\n```\nNAME                                                  READY   STATUS      RESTARTS   AGE\nodm-demo-odm-decisioncenter-6dbfb56874-6kt4l          1/1     Running     0          17d\nodm-demo-odm-decisionrunner-54c7dbd9ff-wtg2f          1/1     Running     0          17d\nodm-demo-odm-decisionserverconsole-5bd4dc4645-j6xj2   1/1     Running     0          17d\nodm-demo-odm-decisionserverruntime-7d5d64f664-n4g5n   1/1     Running     0          17d\n```\n","fileAbsolutePath":"/home/travis/build/ibm-cloud-architecture/cloudpak8s/src/pages/automation/install-odm/index.mdx"}}}}