{"version":3,"sources":["webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.js","webpack:///./node_modules/gatsby-theme-carbon/src/templates/Default.js","webpack:///./src/pages/day2/Metering/index.mdx"],"names":["PageHeader","title","tabs","className","cx","pageHeader","withTabs","length","id","text","EditLink","relativePagePath","repositoryProp","repository","site","siteMetadata","baseUrl","subDirectory","href","branch","row","link","PageTabs","render","this","props","slug","currentTab","split","filter","Boolean","slice","pageTabs","map","tab","slugifiedTab","slugify","lower","selected","currentTabRegex","RegExp","replace","key","selectedItem","listItem","to","tabsContainer","list","React","Component","Default","pageContext","children","location","Title","frontmatter","titleType","theme","description","keywords","pathPrefix","pathname","Layout","homepage","pageTitle","pageDescription","pageKeywords","label","Main","padded","NextPrevious","BackToTopBtn","_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","name","isMDXComponent"],"mappings":"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","file":"component---src-pages-day-2-metering-index-mdx-7c19c7c58ef48083188f.js","sourcesContent":["import PageHeader from './PageHeader';\n\nexport default PageHeader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { pageHeader, withTabs, text } from './PageHeader.module.scss';\n\nconst PageHeader = ({ title, tabs = [] }) => (\n  <div className={cx(pageHeader, { [withTabs]: tabs.length })}>\n    <div className=\"bx--grid\">\n      <div className=\"bx--row\">\n        <div className=\"bx--col-lg-12\">\n          <h1 id=\"page-title\" className={text}>\n            {title}\n          </h1>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nPageHeader.propTypes = {\n  /**\n   * Specify the title for the page\n   */\n  title: PropTypes.node,\n};\n\nexport default PageHeader;\n","import EditLink from './EditLink';\n\nexport default EditLink;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { graphql, useStaticQuery } from 'gatsby';\n\nimport { link, row } from './EditLink.module.scss';\n\nconst EditLink = ({ relativePagePath, repository: repositoryProp }) => {\n  const {\n    site: {\n      siteMetadata: { repository },\n    },\n  } = useStaticQuery(graphql`\n    query REPOSITORY_QUERY {\n      site {\n        siteMetadata {\n          repository {\n            baseUrl\n            subDirectory\n            branch\n          }\n        }\n      }\n    }\n  `);\n\n  const { baseUrl, subDirectory, branch } = repositoryProp || repository;\n\n  const href = `${baseUrl}/edit/${branch}${subDirectory}/src/pages${relativePagePath}`;\n\n  return baseUrl ? (\n    <div className={`bx--row ${row}`}>\n      <div className=\"bx--col\">\n        <a className={link} href={href}>\n          Edit this page on GitHub\n        </a>\n      </div>\n    </div>\n  ) : null;\n};\n\nEditLink.propTypes = {\n  repository: PropTypes.shape({\n    baseUrl: PropTypes.string,\n    subDirectory: PropTypes.string,\n    branch: PropTypes.string,\n  }),\n  relativePagePath: PropTypes.string,\n};\n\nexport default EditLink;\n","import PageTabs from './PageTabs';\n\nexport default PageTabs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'gatsby';\nimport slugify from 'slugify';\nimport cx from 'classnames';\n\nimport {\n  tabsContainer,\n  list,\n  selectedItem,\n  listItem,\n  link,\n} from './PageTabs.module.scss';\n\nexport default class PageTabs extends React.Component {\n  static propTypes = {\n    tabs: PropTypes.array,\n    slug: PropTypes.string,\n  };\n\n  render() {\n    const { tabs, slug } = this.props;\n    const currentTab = slug\n      .split('/')\n      .filter(Boolean)\n      .slice(-1)[0];\n\n    const pageTabs = tabs.map(tab => {\n      const slugifiedTab = slugify(tab, { lower: true });\n      const selected = slugifiedTab === currentTab;\n      const currentTabRegex = new RegExp(`${currentTab}(?!-)`);\n      const href = slug.replace(currentTabRegex, slugifiedTab);\n      return (\n        <li key={tab} className={cx({ [selectedItem]: selected }, listItem)}>\n          <Link className={link} to={`${href}`}>\n            {tab}\n          </Link>\n        </li>\n      );\n    });\n\n    return (\n      <div className={tabsContainer}>\n        <div className=\"bx--grid\">\n          <div className=\"bx--row\">\n            <div className=\"bx--col-lg-12 bx--col-no-gutter\">\n              <nav>\n                <ul className={list}>{pageTabs}</ul>\n              </nav>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport slugify from 'slugify';\nimport { useStaticQuery, graphql } from 'gatsby';\n\nimport BackToTopBtn from '../components/BackToTopBtn';\nimport Layout from '../components/Layout';\nimport PageHeader from '../components/PageHeader';\nimport EditLink from '../components/EditLink';\nimport NextPrevious from '../components/NextPrevious';\nimport PageTabs from '../components/PageTabs';\nimport Main from '../components/Main';\n\nconst Default = ({ pageContext, children, location, Title }) => {\n  const { frontmatter = {}, relativePagePath, titleType } = pageContext;\n  const { tabs, title, theme, description, keywords } = frontmatter;\n\n  // get the path prefix if it exists\n  const {\n    site: { pathPrefix },\n  } = useStaticQuery(graphql`\n    query PATH_PREFIX_QUERY {\n      site {\n        pathPrefix\n      }\n    }\n  `);\n\n  // let gatsby handle prefixing\n  const slug = pathPrefix\n    ? location.pathname.replace(pathPrefix, '')\n    : location.pathname;\n\n  const getCurrentTab = () => {\n    if (!tabs) return '';\n    return (\n      slug\n        .split('/')\n        .filter(Boolean)\n        .slice(-1)[0] || slugify(tabs[0], { lower: true })\n    );\n  };\n\n  const currentTab = getCurrentTab();\n  return (\n    <Layout\n      tabs={tabs}\n      homepage={false}\n      theme={theme}\n      pageTitle={title}\n      pageDescription={description}\n      pageKeywords={keywords}\n      titleType={titleType}\n    >\n      <PageHeader title={Title ? <Title /> : title} label=\"label\" tabs={tabs} />\n      {tabs && <PageTabs slug={slug} tabs={tabs} currentTab={currentTab} />}\n      <Main padded>\n        {children}\n        <EditLink relativePagePath={relativePagePath} />\n      </Main>\n      <NextPrevious\n        pageContext={pageContext}\n        location={location}\n        slug={slug}\n        tabs={tabs}\n        currentTab={currentTab}\n      />\n      <BackToTopBtn />\n    </Layout>\n  );\n};\n\nexport default Default;\n","import React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/travis/build/ibm-cloud-architecture/cloudpak8s/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h2>{`Metering Overview`}</h2>\n    <p>{`Metering is an essential tool for organizations that use capacity from a Kubernetes cluster to run their services, as well as for IT departments that manage these clusters. In the past, many departments tended to overestimate their resource needs. This could easily result in wasted capacity and wasted capital.`}</p>\n    <p>{`Management teams want to understand more concretely where budget is spent and by whom, and for which service. Metering provides that information, providing an understanding of how much it costs to run specific services, while also providing usage information that can lead to improved budgeting and capacity planning. With this information, IT Operation can also internally bill departments to reflect the costs directly associated with their actual infrastructure usage, driving accountability for service costs. This helps to eliminate some of the more manual IT “plumbing” work in tallying costs and usage by hand or managing spreadsheets. By using metering, IT teams can free up their time to tackle bigger problems and even drive business-wide innovation.  `}</p>\n    <p>{`Here are some examples of how metering could be applied in the real world:  `}</p>\n    <ul>\n      <li parentName=\"ul\">{`Cloud budgeting: Teams can gain insight into how cloud resources are being used, especially in autoscaled clusters or hybrid cloud deployments.  `}</li>\n      <li parentName=\"ul\">{`Cloud billing: Resource usage can be tracked by billing codes or labels that reflect your internal hierarchy.`}</li>\n      <li parentName=\"ul\">{`Telemetry/aggregation: Service usage and metrics can be viewed across many namespaces or teams, such as a Postgres Operator running hundreds of databases.  `}</li>\n    </ul>\n    <p>{`OpenShit Metering feature is managed by the metering operator. The metering operator depends on two components.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`a database engine `}<a parentName=\"li\" {...{\n          \"href\": \"https://prestodb.io\"\n        }}>{`Presto`}</a>{`. Presto is a distributed SQL database written in Java.  Presto can use several connectors, for the metering operator, it is configured to use `}<a parentName=\"li\" {...{\n          \"href\": \"https://hive.apache.org\"\n        }}>{`Hive`}</a>{`, a data warehousing application with distributed storage. See the `}<a parentName=\"li\" {...{\n          \"href\": \"https://docs.openshift.com/container-platform/4.3/metering/configuring_metering/metering-configure-hive-metastore.html\"\n        }}>{`OpenShift Document`}</a>{` for detailed information.`}</li>\n      <li parentName=\"ul\">{`a reporting framework `}<a parentName=\"li\" {...{\n          \"href\": \"https://docs.openshift.com/container-platform/4.3/metering/configuring_metering/metering-configure-reporting-operator.html\"\n        }}>{`reporting operator`}</a>{`.  This is the reporting engine making use of Presto data.  `}</li>\n    </ul>\n    <h2>{`Day 1 Platform`}</h2>\n    <p>{`Metering can be a Day 1 or Day 2 activity depending on whether the business requirement for metering comes at the beginning of the OpenShift install or later.  If metering is considered as important by the business, it will be included in the design phase; then, it is a Day 1 activity.  However, some enterprises may only consider metering after they go to production.  In this case, metering is a Day 2 activity. `}</p>\n    <p>{`OpenShift provides a `}<inlineCode parentName=\"p\">{`metering operator`}</inlineCode>{`; however, it is not installed by default.\nYou can `}<strong parentName=\"p\">{`install the metering operator`}</strong>{` via the OpenShift web console.`}</p>\n    <p><strong parentName=\"p\">{`Day 1 Platform task for Metering:`}</strong></p>\n    <ul>\n      <li parentName=\"ul\">{`Install the metering operator    `}</li>\n    </ul>\n    <h2>{`Day 2 Platform`}</h2>\n    <p>{`Depending on the defined data source, metering can report either usage of the OpenShift platform, the application, or both.\nFor platform metering, you can use the data source from the OpenShift configured Prometheus. So before you start using the metering operator, you need to `}<strong parentName=\"p\">{`verify Prometheus is collecting data`}</strong>{`. You can then `}<strong parentName=\"p\">{`enable the metering operator’s report`}</strong>{` on the cluster, node, pod, PVC resources for the request, usage, and other collected information for a different period.\nFor example, the following list some of the available platform report:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`cluster CPU usage`}</li>\n      <li parentName=\"ul\">{`node allocatable CPU cores`}</li>\n      <li parentName=\"ul\">{`node allocatable memory bytes `}</li>\n      <li parentName=\"ul\">{`node capacity CPU cores`}</li>\n      <li parentName=\"ul\">{`persistent volume claim request bytes `}</li>\n      <li parentName=\"ul\">{`persistent volume claim usage bytes `}</li>\n      <li parentName=\"ul\">{`pod memory request raw `}</li>\n      <li parentName=\"ul\">{`pod persistent volume claim request info`}</li>\n      <li parentName=\"ul\">{`pod request CPU cores `}</li>\n      <li parentName=\"ul\">{`pod request memory bytes `}</li>\n      <li parentName=\"ul\">{`pod usage CPU cores`}</li>\n    </ul>\n    <p>{`To summarize these are the activities that you need to perform for Day 2 Platform on metering:`}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#platform-verify\"\n        }}>{`Verify Prometheus is collecting data`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#platform-enable\"\n        }}>{`Enable the metering operator’s report`}</a>{`   `}</li>\n    </ul>\n    <h2>{`Day 1 Application`}</h2>\n    <p>{`If metering is included as part of the cluster’s design and installation, to prepare for Day 2 activities, please ensure that you `}<strong parentName=\"p\">{`obtain the business requirement documentation on metering`}</strong>{`.`}</p>\n    <p>{`As the application’s data does not come preconfigured with the OpenShift configured Prometheus, you need to configure Prometheus to collect the required data.`}</p>\n    <p><strong parentName=\"p\">{`Day 1 Application task for Metering:`}</strong></p>\n    <ul>\n      <li parentName=\"ul\">{`Obtain the business requirement documentation on metering  `}</li>\n    </ul>\n    <h2>{`Day 2 Application`}</h2>\n    <p>{`The following are the Day 2 activities in configuring the metering`}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#requirement\"\n        }}>{`Capture and document the business requirement`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#report\"\n        }}>{`Develop the metering report`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#troubleshooting\"\n        }}>{`Troubleshoot the metering operator`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#uninstall\"\n        }}>{`Uninstall the metering operator`}</a>{`  `}</li>\n    </ul>\n    <h2>{`Mapping to Personas`}</h2>\n    <p>{`To summarize, the following lists the topics that you may want to consider for Day 2 Operations on Metering: `}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Persona`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`task`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`SRE`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Verify Prometheus is collecting data`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`SRE`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Enable the metering operator’s report`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`SRE, DevOps Engineer`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Capture and document the business requirement`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`DevOps Engineer`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Develop the metering report`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`DevOps Engineer`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Troubleshoot the metering operator`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`DevOps Engineer`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Uninstall the metering operator`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h2>{`Platform tasks`}</h2>\n    <a name=\"platform-verify\"></a>\n    <h2>{`Verify Prometheus is collecting data: `}{`[SRE]`}</h2>\n    <p>{`Setting up metering is covered in the Application tasks section later in the chapter. Metering requires data, and for OpenShift, the data collection to generate report comes predominantly from the Prometheus that comes with OpenShift. You can only get a good metering report if the data are valid and comes regularly.  Therefore an important activity for Day 2 platform is to ensure that Prometheus is collecting data.`}</p>\n    <p>{`Information about Prometheus can be found in the `}<a parentName=\"p\" {...{\n        \"href\": \"../Monitoring\"\n      }}>{`Monitoring`}</a>{` section.`}</p>\n    <a name=\"platform-enable\"></a>\n    <h2>{`Enable the metering operator’s report: `}{`[SRE]`}</h2>\n    <p>{`The metering operator is not installed by default.  So if this activity has not been performed, you need to install the metering operator first.`}</p>\n    <p>{`Once you have a good stream of metrics data from Prometheus, you need to enable the metering operator. `}</p>\n    <p>{`OpenShift Metering make use of the following 4 CRD (Custom Resource Definition)`}</p>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`MeteringConfig`}</strong>{` to contain the configuration option.`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Reports`}</strong>{` specifies the `}<em parentName=\"li\">{`ReportDataSources`}</em>{` to use, when, and how often the `}<em parentName=\"li\">{`ReportQueries`}</em>{` to run.`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`ReportDataSources`}</strong>{` specifies the database connection.`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`ReportQueries`}</strong>{` specifies the queries to use.`}</li>\n    </ul>\n    <p>{`Before you configure your metering, you need to ensure that you have enough compute capacity such as `}<em parentName=\"p\">{`StorageClass`}</em>{` and `}<em parentName=\"p\">{`worker node`}</em>{` to perform metering. You can find the detailed information in the `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.openshift.com/container-platform/4.3/metering/metering-installing-metering.html#metering-install-prerequisites_installing-metering\"\n      }}>{`OpenShift Documentation`}</a>{`.`}</p>\n    <p>{`Once you ascertain that you had the required compute capacity, you can perform the installation.  The installation steps are detailed in the `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.openshift.com/container-platform/4.3/metering/metering-installing-metering.html\"\n      }}>{`OpenShift Documentation`}</a>{`, here is the summary:`}</p>\n    <p>{`The following steps install the metering function.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Install the Metering Operator`}</li>\n      <li parentName=\"ul\">{`Install the Metering Stack including creating the MeteringConfig CRD, configuring the persistent storage and configuring the hive meta store`}</li>\n      <li parentName=\"ul\">{`Verify the installation`}</li>\n    </ul>\n    <p>{`The following are the configuration options that may need to be considered on metering:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Resource Request and Limit  `}</li>\n      <li parentName=\"ul\">{`Node Selector`}</li>\n      <li parentName=\"ul\">{`Configuring the persistent storage`}</li>\n      <li parentName=\"ul\">{`Configuring the hive metastore`}</li>\n      <li parentName=\"ul\">{`Configuring the reporting-operator`}</li>\n      <li parentName=\"ul\">{`Optional: Correlating Cluster usage to Billing Information`}</li>\n    </ul>\n    <p>{`All the above information is well described in `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.openshift.com/container-platform/4.3/metering/configuring-metering/metering-about-configuring.html\"\n      }}>{`the OpenShift 4.3 Metering documentation`}</a></p>\n    <h2>{`Application tasks`}</h2>\n    <a name=\"requirement\"></a>\n    <h2>{`Capture and document the business requirement: `}{`[ SRE, DevOps Engineer ]`}</h2>\n    <p>{`At the end of the day, the reason that you perform metering is to produce a report per the business requirement. OpenShift provides the `}<inlineCode parentName=\"p\">{`metering operator`}</inlineCode>{`.  The `}<inlineCode parentName=\"p\">{`metering operator`}</inlineCode>{` comes with the `}<inlineCode parentName=\"p\">{`reporting operator`}</inlineCode>{`.  The `}<inlineCode parentName=\"p\">{`reporting operator`}</inlineCode>{` comes with some metering queries and reports.  However, the business requirement might require reports in a certain format that is different from what is provided out of the box.  A lot of the Day 2 activities on metering will be to generate queries and reports to fulfill the business requirement.`}</p>\n    <p>{`As part of the activities in fulfilling your business requirement, you need to verify that you can get the data from the source of data for your report.\nMetering focuses primarily on in-cluster metric data using Prometheus as a default data source. This enables users of metering to do reporting on pods, namespaces, and most other Kubernetes resources.  You might need to look at the Prometheus monitoring metrics first, which are discussed further in this repository `}<a parentName=\"p\" {...{\n        \"href\": \"../Monitoring\"\n      }}>{`Monitoring`}</a>{` chapter.`}</p>\n    <p>{`Once you identify the data, you put that into the configuration stored in the custom resource definition of the operator.  The operator will use this information to create tables and view in Presto, the database component of the metering operator.  The user then creates SQL queries to extract this data and create the required metering report.`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`As in any software development activities, when you develop your report design, it is essential to document the business requirement, design decision, and the design of your queries and reports.`}</p>\n    </blockquote>\n    <a name=\"report\"></a>\n    <h2>{`Develop the metering report: `}{`[ DevOps Engineer ]`}</h2>\n    <p>{`The first step in getting the metering report is to install and configure the metering operator if it is not installed yet.  See the Platform tasks for the activities.  It is recommended for you to generate the platform metering report first, as the required Prometheus data source has been preconfigured.  A good platform metering report ensures that the metering operator works using the default configuration.`}</p>\n    <p>{`Once you verify that your metering operator works, you most likely will spend most on your day-2 activities on metering producing reports as per the business requirement.`}</p>\n    <p>{`OpenShift comes with preconfigured `}<em parentName=\"p\">{`ReportDataSources`}</em>{` and `}<em parentName=\"p\">{`ReportQueries`}</em>{` that the user can start using.  `}<em parentName=\"p\">{`Report`}</em>{` CRD is used to define the schedule of the report run.`}</p>\n    <p>{`The user can write a custom report, and an example of a custom report can be found in the `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.openshift.com/container-platform/4.3/metering/metering-usage-examples.html\"\n      }}>{`documentation`}</a>{`.`}</p>\n    <a name=\"troubleshooting\"></a>\n    <h2>{`Troubleshoot the metering operator: `}{`[ DevOps Engineer ]`}</h2>\n    <p>{`These are basic causes for metering not to work:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Not enough compute resources  `}</li>\n      <li parentName=\"ul\">{`StorageClass is not configured`}</li>\n      <li parentName=\"ul\">{`Secret not configured correctly`}</li>\n    </ul>\n    <p>{`Some of the debugging steps that can be performed:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Reporting Operator Logs`}</li>\n      <li parentName=\"ul\">{`Query Presto using presto command-line interface`}</li>\n      <li parentName=\"ul\">{`Query Hive using beeline`}</li>\n      <li parentName=\"ul\">{`Go through the Hive web UI and HDFS UI.  You first need to configure port-forwarding to expose the UI first.`}</li>\n      <li parentName=\"ul\">{`Access the Ansible Logs.  Metering uses Ansible, and Ansible logs might provide some information.`}</li>\n    </ul>\n    <p>{`Please refer to the `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.openshift.com/container-platform/4.3/metering/metering-troubleshooting-debugging.html\"\n      }}>{`Troubleshooting Guide`}</a>{` for more information.  `}</p>\n    <a name=\"uninstall\"></a>\n    <h2>{`Uninstall the metering operator: `}{`[ DevOps Engineer]`}</h2>\n    <p>{`You can uninstall the metering operator by going to the web console as a cluster administrator, then select from the menu `}<inlineCode parentName=\"p\">{`Operators > Installed Operators`}</inlineCode>{`.  Find the metering operator and then choose `}<inlineCode parentName=\"p\">{`Uninstall Operator`}</inlineCode>{` from the action menu.`}</p>\n    <p>{`Please refer to the `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.openshift.com/container-platform/4.3/metering/metering-uninstall.html\"\n      }}>{`Uninstalling metering`}</a>{` for more information.   `}</p>\n    <h2>{`Implementing Metering`}</h2>\n    <p>{`The Metering Operator is the technology that works with the Kubernetes as well as the OpenShift cluster.`}</p>\n    <h2>{`Kubernetes`}</h2>\n    <p>{`The following are collection of links related to the Metering Operator.`}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://coreos.com/blog/introducing-operator-framework-metering\"\n        }}>{`Information from CoreOS documentation`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://github.com/operator-framework/operator-metering/blob/master/Documentation/metering-architecture.md\"\n        }}>{`Git pages on operator-metering`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://github.com/operator-framework/operator-metering/blob/master/Documentation/install-metering.md\"\n        }}>{`Git pages on operator-metering installation`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://github.com/operator-framework/operator-metering/blob/master/Documentation/metering-config.md\"\n        }}>{`Git pages on operator-metering configuration`}</a>{`   `}</li>\n    </ul>\n    <h2>{`OpenShift`}</h2>\n    <p>{`The information we provided in the previous sections in this document is based on the OpenShift Metering feature.`}<br parentName=\"p\"></br>{`\n`}{`The following is a link related to OpenShift metering.`}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://docs.openshift.com/container-platform/4.3/metering/metering-about-metering.html\"\n        }}>{`OpenShift 4.3 documentation on Metering`}</a>{`   `}</li>\n    </ul>\n    <h2>{`On IBM Cloud (Managed OpenShift)`}</h2>\n    <p>{`n/a   `}</p>\n    <h2>{`With IBM Cloud Pak for MCM`}</h2>\n    <p>{`The following is a link related to IBM Cloud Pak for Multicloud Management Metering feature.`}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://www.ibm.com/support/knowledgecenter/SSFC4F_1.2.0/admin/metering_service_mcm.html\"\n        }}>{`IBM Cloud Pak for MCM metering`}</a>{`  `}</li>\n    </ul>\n    <h2>{`Others`}</h2>\n    <p>{`n/a  `}</p>\n    <h2>{`Other consideration`}</h2>\n    <p>{`n/a   `}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}